function Ge(){import("data:text/javascript,")}(function(){const I=document.createElement("link").relList;if(I&&I.supports&&I.supports("modulepreload"))return;for(const m of document.querySelectorAll('link[rel="modulepreload"]'))E(m);new MutationObserver(m=>{for(const s of m)if(s.type==="childList")for(const n of s.addedNodes)n.tagName==="LINK"&&n.rel==="modulepreload"&&E(n)}).observe(document,{childList:!0,subtree:!0});function u(m){const s={};return m.integrity&&(s.integrity=m.integrity),m.referrerpolicy&&(s.referrerPolicy=m.referrerpolicy),m.crossorigin==="use-credentials"?s.credentials="include":m.crossorigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function E(m){if(m.ep)return;m.ep=!0;const s=u(m);fetch(m.href,s)}})();var bt=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function _e(C){return C&&C.__esModule&&Object.prototype.hasOwnProperty.call(C,"default")?C.default:C}function At(C){throw new Error('Could not dynamically require "'+C+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var Xt={exports:{}};/*!

JSZip v3.10.1 - A JavaScript class for generating and reading zip files
<http://stuartk.com/jszip>

(c) 2009-2016 Stuart Knightley <stuart [at] stuartk.com>
Dual licenced under the MIT license or GPLv3. See https://raw.github.com/Stuk/jszip/main/LICENSE.markdown.

JSZip uses the library pako released under the MIT license :
https://github.com/nodeca/pako/blob/main/LICENSE
*/(function(C,I){(function(u){C.exports=u()})(function(){return function u(E,m,s){function n(g,v){if(!m[g]){if(!E[g]){var _=typeof At=="function"&&At;if(!v&&_)return _(g,!0);if(r)return r(g,!0);var y=new Error("Cannot find module '"+g+"'");throw y.code="MODULE_NOT_FOUND",y}var l=m[g]={exports:{}};E[g][0].call(l.exports,function(f){var a=E[g][1][f];return n(a||f)},l,l.exports,u,E,m,s)}return m[g].exports}for(var r=typeof At=="function"&&At,c=0;c<s.length;c++)n(s[c]);return n}({1:[function(u,E,m){var s=u("./utils"),n=u("./support"),r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";m.encode=function(c){for(var g,v,_,y,l,f,a,i=[],o=0,d=c.length,b=d,A=s.getTypeOf(c)!=="string";o<c.length;)b=d-o,_=A?(g=c[o++],v=o<d?c[o++]:0,o<d?c[o++]:0):(g=c.charCodeAt(o++),v=o<d?c.charCodeAt(o++):0,o<d?c.charCodeAt(o++):0),y=g>>2,l=(3&g)<<4|v>>4,f=1<b?(15&v)<<2|_>>6:64,a=2<b?63&_:64,i.push(r.charAt(y)+r.charAt(l)+r.charAt(f)+r.charAt(a));return i.join("")},m.decode=function(c){var g,v,_,y,l,f,a=0,i=0,o="data:";if(c.substr(0,o.length)===o)throw new Error("Invalid base64 input, it looks like a data url.");var d,b=3*(c=c.replace(/[^A-Za-z0-9+/=]/g,"")).length/4;if(c.charAt(c.length-1)===r.charAt(64)&&b--,c.charAt(c.length-2)===r.charAt(64)&&b--,b%1!=0)throw new Error("Invalid base64 input, bad content length.");for(d=n.uint8array?new Uint8Array(0|b):new Array(0|b);a<c.length;)g=r.indexOf(c.charAt(a++))<<2|(y=r.indexOf(c.charAt(a++)))>>4,v=(15&y)<<4|(l=r.indexOf(c.charAt(a++)))>>2,_=(3&l)<<6|(f=r.indexOf(c.charAt(a++))),d[i++]=g,l!==64&&(d[i++]=v),f!==64&&(d[i++]=_);return d}},{"./support":30,"./utils":32}],2:[function(u,E,m){var s=u("./external"),n=u("./stream/DataWorker"),r=u("./stream/Crc32Probe"),c=u("./stream/DataLengthProbe");function g(v,_,y,l,f){this.compressedSize=v,this.uncompressedSize=_,this.crc32=y,this.compression=l,this.compressedContent=f}g.prototype={getContentWorker:function(){var v=new n(s.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new c("data_length")),_=this;return v.on("end",function(){if(this.streamInfo.data_length!==_.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")}),v},getCompressedWorker:function(){return new n(s.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},g.createWorkerFrom=function(v,_,y){return v.pipe(new r).pipe(new c("uncompressedSize")).pipe(_.compressWorker(y)).pipe(new c("compressedSize")).withStreamInfo("compression",_)},E.exports=g},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(u,E,m){var s=u("./stream/GenericWorker");m.STORE={magic:"\0\0",compressWorker:function(){return new s("STORE compression")},uncompressWorker:function(){return new s("STORE decompression")}},m.DEFLATE=u("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(u,E,m){var s=u("./utils"),n=function(){for(var r,c=[],g=0;g<256;g++){r=g;for(var v=0;v<8;v++)r=1&r?3988292384^r>>>1:r>>>1;c[g]=r}return c}();E.exports=function(r,c){return r!==void 0&&r.length?s.getTypeOf(r)!=="string"?function(g,v,_,y){var l=n,f=y+_;g^=-1;for(var a=y;a<f;a++)g=g>>>8^l[255&(g^v[a])];return-1^g}(0|c,r,r.length,0):function(g,v,_,y){var l=n,f=y+_;g^=-1;for(var a=y;a<f;a++)g=g>>>8^l[255&(g^v.charCodeAt(a))];return-1^g}(0|c,r,r.length,0):0}},{"./utils":32}],5:[function(u,E,m){m.base64=!1,m.binary=!1,m.dir=!1,m.createFolders=!0,m.date=null,m.compression=null,m.compressionOptions=null,m.comment=null,m.unixPermissions=null,m.dosPermissions=null},{}],6:[function(u,E,m){var s=null;s=typeof Promise<"u"?Promise:u("lie"),E.exports={Promise:s}},{lie:37}],7:[function(u,E,m){var s=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Uint32Array<"u",n=u("pako"),r=u("./utils"),c=u("./stream/GenericWorker"),g=s?"uint8array":"array";function v(_,y){c.call(this,"FlateWorker/"+_),this._pako=null,this._pakoAction=_,this._pakoOptions=y,this.meta={}}m.magic="\b\0",r.inherits(v,c),v.prototype.processChunk=function(_){this.meta=_.meta,this._pako===null&&this._createPako(),this._pako.push(r.transformTo(g,_.data),!1)},v.prototype.flush=function(){c.prototype.flush.call(this),this._pako===null&&this._createPako(),this._pako.push([],!0)},v.prototype.cleanUp=function(){c.prototype.cleanUp.call(this),this._pako=null},v.prototype._createPako=function(){this._pako=new n[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var _=this;this._pako.onData=function(y){_.push({data:y,meta:_.meta})}},m.compressWorker=function(_){return new v("Deflate",_)},m.uncompressWorker=function(){return new v("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:38}],8:[function(u,E,m){function s(l,f){var a,i="";for(a=0;a<f;a++)i+=String.fromCharCode(255&l),l>>>=8;return i}function n(l,f,a,i,o,d){var b,A,S=l.file,j=l.compression,D=d!==g.utf8encode,W=r.transformTo("string",d(S.name)),R=r.transformTo("string",g.utf8encode(S.name)),H=S.comment,K=r.transformTo("string",d(H)),w=r.transformTo("string",g.utf8encode(H)),P=R.length!==S.name.length,t=w.length!==H.length,k="",G="",U="",J=S.dir,F=S.date,Q={crc32:0,compressedSize:0,uncompressedSize:0};f&&!a||(Q.crc32=l.crc32,Q.compressedSize=l.compressedSize,Q.uncompressedSize=l.uncompressedSize);var T=0;f&&(T|=8),D||!P&&!t||(T|=2048);var z=0,tt=0;J&&(z|=16),o==="UNIX"?(tt=798,z|=function(q,st){var ct=q;return q||(ct=st?16893:33204),(65535&ct)<<16}(S.unixPermissions,J)):(tt=20,z|=function(q){return 63&(q||0)}(S.dosPermissions)),b=F.getUTCHours(),b<<=6,b|=F.getUTCMinutes(),b<<=5,b|=F.getUTCSeconds()/2,A=F.getUTCFullYear()-1980,A<<=4,A|=F.getUTCMonth()+1,A<<=5,A|=F.getUTCDate(),P&&(G=s(1,1)+s(v(W),4)+R,k+="up"+s(G.length,2)+G),t&&(U=s(1,1)+s(v(K),4)+w,k+="uc"+s(U.length,2)+U);var V="";return V+=`
\0`,V+=s(T,2),V+=j.magic,V+=s(b,2),V+=s(A,2),V+=s(Q.crc32,4),V+=s(Q.compressedSize,4),V+=s(Q.uncompressedSize,4),V+=s(W.length,2),V+=s(k.length,2),{fileRecord:_.LOCAL_FILE_HEADER+V+W+k,dirRecord:_.CENTRAL_FILE_HEADER+s(tt,2)+V+s(K.length,2)+"\0\0\0\0"+s(z,4)+s(i,4)+W+k+K}}var r=u("../utils"),c=u("../stream/GenericWorker"),g=u("../utf8"),v=u("../crc32"),_=u("../signature");function y(l,f,a,i){c.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=f,this.zipPlatform=a,this.encodeFileName=i,this.streamFiles=l,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}r.inherits(y,c),y.prototype.push=function(l){var f=l.meta.percent||0,a=this.entriesCount,i=this._sources.length;this.accumulate?this.contentBuffer.push(l):(this.bytesWritten+=l.data.length,c.prototype.push.call(this,{data:l.data,meta:{currentFile:this.currentFile,percent:a?(f+100*(a-i-1))/a:100}}))},y.prototype.openedSource=function(l){this.currentSourceOffset=this.bytesWritten,this.currentFile=l.file.name;var f=this.streamFiles&&!l.file.dir;if(f){var a=n(l,f,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:a.fileRecord,meta:{percent:0}})}else this.accumulate=!0},y.prototype.closedSource=function(l){this.accumulate=!1;var f=this.streamFiles&&!l.file.dir,a=n(l,f,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(a.dirRecord),f)this.push({data:function(i){return _.DATA_DESCRIPTOR+s(i.crc32,4)+s(i.compressedSize,4)+s(i.uncompressedSize,4)}(l),meta:{percent:100}});else for(this.push({data:a.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},y.prototype.flush=function(){for(var l=this.bytesWritten,f=0;f<this.dirRecords.length;f++)this.push({data:this.dirRecords[f],meta:{percent:100}});var a=this.bytesWritten-l,i=function(o,d,b,A,S){var j=r.transformTo("string",S(A));return _.CENTRAL_DIRECTORY_END+"\0\0\0\0"+s(o,2)+s(o,2)+s(d,4)+s(b,4)+s(j.length,2)+j}(this.dirRecords.length,a,l,this.zipComment,this.encodeFileName);this.push({data:i,meta:{percent:100}})},y.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},y.prototype.registerPrevious=function(l){this._sources.push(l);var f=this;return l.on("data",function(a){f.processChunk(a)}),l.on("end",function(){f.closedSource(f.previous.streamInfo),f._sources.length?f.prepareNextSource():f.end()}),l.on("error",function(a){f.error(a)}),this},y.prototype.resume=function(){return!!c.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},y.prototype.error=function(l){var f=this._sources;if(!c.prototype.error.call(this,l))return!1;for(var a=0;a<f.length;a++)try{f[a].error(l)}catch(i){}return!0},y.prototype.lock=function(){c.prototype.lock.call(this);for(var l=this._sources,f=0;f<l.length;f++)l[f].lock()},E.exports=y},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(u,E,m){var s=u("../compressions"),n=u("./ZipFileWorker");m.generateWorker=function(r,c,g){var v=new n(c.streamFiles,g,c.platform,c.encodeFileName),_=0;try{r.forEach(function(y,l){_++;var f=function(d,b){var A=d||b,S=s[A];if(!S)throw new Error(A+" is not a valid compression method !");return S}(l.options.compression,c.compression),a=l.options.compressionOptions||c.compressionOptions||{},i=l.dir,o=l.date;l._compressWorker(f,a).withStreamInfo("file",{name:y,dir:i,date:o,comment:l.comment||"",unixPermissions:l.unixPermissions,dosPermissions:l.dosPermissions}).pipe(v)}),v.entriesCount=_}catch(y){v.error(y)}return v}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(u,E,m){function s(){if(!(this instanceof s))return new s;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files=Object.create(null),this.comment=null,this.root="",this.clone=function(){var n=new s;for(var r in this)typeof this[r]!="function"&&(n[r]=this[r]);return n}}(s.prototype=u("./object")).loadAsync=u("./load"),s.support=u("./support"),s.defaults=u("./defaults"),s.version="3.10.1",s.loadAsync=function(n,r){return new s().loadAsync(n,r)},s.external=u("./external"),E.exports=s},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(u,E,m){var s=u("./utils"),n=u("./external"),r=u("./utf8"),c=u("./zipEntries"),g=u("./stream/Crc32Probe"),v=u("./nodejsUtils");function _(y){return new n.Promise(function(l,f){var a=y.decompressed.getContentWorker().pipe(new g);a.on("error",function(i){f(i)}).on("end",function(){a.streamInfo.crc32!==y.decompressed.crc32?f(new Error("Corrupted zip : CRC32 mismatch")):l()}).resume()})}E.exports=function(y,l){var f=this;return l=s.extend(l||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:r.utf8decode}),v.isNode&&v.isStream(y)?n.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):s.prepareContent("the loaded zip file",y,!0,l.optimizedBinaryString,l.base64).then(function(a){var i=new c(l);return i.load(a),i}).then(function(a){var i=[n.Promise.resolve(a)],o=a.files;if(l.checkCRC32)for(var d=0;d<o.length;d++)i.push(_(o[d]));return n.Promise.all(i)}).then(function(a){for(var i=a.shift(),o=i.files,d=0;d<o.length;d++){var b=o[d],A=b.fileNameStr,S=s.resolve(b.fileNameStr);f.file(S,b.decompressed,{binary:!0,optimizedBinaryString:!0,date:b.date,dir:b.dir,comment:b.fileCommentStr.length?b.fileCommentStr:null,unixPermissions:b.unixPermissions,dosPermissions:b.dosPermissions,createFolders:l.createFolders}),b.dir||(f.file(S).unsafeOriginalName=A)}return i.zipComment.length&&(f.comment=i.zipComment),f})}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(u,E,m){var s=u("../utils"),n=u("../stream/GenericWorker");function r(c,g){n.call(this,"Nodejs stream input adapter for "+c),this._upstreamEnded=!1,this._bindStream(g)}s.inherits(r,n),r.prototype._bindStream=function(c){var g=this;(this._stream=c).pause(),c.on("data",function(v){g.push({data:v,meta:{percent:0}})}).on("error",function(v){g.isPaused?this.generatedError=v:g.error(v)}).on("end",function(){g.isPaused?g._upstreamEnded=!0:g.end()})},r.prototype.pause=function(){return!!n.prototype.pause.call(this)&&(this._stream.pause(),!0)},r.prototype.resume=function(){return!!n.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},E.exports=r},{"../stream/GenericWorker":28,"../utils":32}],13:[function(u,E,m){var s=u("readable-stream").Readable;function n(r,c,g){s.call(this,c),this._helper=r;var v=this;r.on("data",function(_,y){v.push(_)||v._helper.pause(),g&&g(y)}).on("error",function(_){v.emit("error",_)}).on("end",function(){v.push(null)})}u("../utils").inherits(n,s),n.prototype._read=function(){this._helper.resume()},E.exports=n},{"../utils":32,"readable-stream":16}],14:[function(u,E,m){E.exports={isNode:typeof Buffer<"u",newBufferFrom:function(s,n){if(Buffer.from&&Buffer.from!==Uint8Array.from)return Buffer.from(s,n);if(typeof s=="number")throw new Error('The "data" argument must not be a number');return new Buffer(s,n)},allocBuffer:function(s){if(Buffer.alloc)return Buffer.alloc(s);var n=new Buffer(s);return n.fill(0),n},isBuffer:function(s){return Buffer.isBuffer(s)},isStream:function(s){return s&&typeof s.on=="function"&&typeof s.pause=="function"&&typeof s.resume=="function"}}},{}],15:[function(u,E,m){function s(S,j,D){var W,R=r.getTypeOf(j),H=r.extend(D||{},v);H.date=H.date||new Date,H.compression!==null&&(H.compression=H.compression.toUpperCase()),typeof H.unixPermissions=="string"&&(H.unixPermissions=parseInt(H.unixPermissions,8)),H.unixPermissions&&16384&H.unixPermissions&&(H.dir=!0),H.dosPermissions&&16&H.dosPermissions&&(H.dir=!0),H.dir&&(S=o(S)),H.createFolders&&(W=i(S))&&d.call(this,W,!0);var K=R==="string"&&H.binary===!1&&H.base64===!1;D&&D.binary!==void 0||(H.binary=!K),(j instanceof _&&j.uncompressedSize===0||H.dir||!j||j.length===0)&&(H.base64=!1,H.binary=!0,j="",H.compression="STORE",R="string");var w=null;w=j instanceof _||j instanceof c?j:f.isNode&&f.isStream(j)?new a(S,j):r.prepareContent(S,j,H.binary,H.optimizedBinaryString,H.base64);var P=new y(S,w,H);this.files[S]=P}var n=u("./utf8"),r=u("./utils"),c=u("./stream/GenericWorker"),g=u("./stream/StreamHelper"),v=u("./defaults"),_=u("./compressedObject"),y=u("./zipObject"),l=u("./generate"),f=u("./nodejsUtils"),a=u("./nodejs/NodejsStreamInputAdapter"),i=function(S){S.slice(-1)==="/"&&(S=S.substring(0,S.length-1));var j=S.lastIndexOf("/");return 0<j?S.substring(0,j):""},o=function(S){return S.slice(-1)!=="/"&&(S+="/"),S},d=function(S,j){return j=j!==void 0?j:v.createFolders,S=o(S),this.files[S]||s.call(this,S,null,{dir:!0,createFolders:j}),this.files[S]};function b(S){return Object.prototype.toString.call(S)==="[object RegExp]"}var A={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(S){var j,D,W;for(j in this.files)W=this.files[j],(D=j.slice(this.root.length,j.length))&&j.slice(0,this.root.length)===this.root&&S(D,W)},filter:function(S){var j=[];return this.forEach(function(D,W){S(D,W)&&j.push(W)}),j},file:function(S,j,D){if(arguments.length!==1)return S=this.root+S,s.call(this,S,j,D),this;if(b(S)){var W=S;return this.filter(function(H,K){return!K.dir&&W.test(H)})}var R=this.files[this.root+S];return R&&!R.dir?R:null},folder:function(S){if(!S)return this;if(b(S))return this.filter(function(R,H){return H.dir&&S.test(R)});var j=this.root+S,D=d.call(this,j),W=this.clone();return W.root=D.name,W},remove:function(S){S=this.root+S;var j=this.files[S];if(j||(S.slice(-1)!=="/"&&(S+="/"),j=this.files[S]),j&&!j.dir)delete this.files[S];else for(var D=this.filter(function(R,H){return H.name.slice(0,S.length)===S}),W=0;W<D.length;W++)delete this.files[D[W].name];return this},generate:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(S){var j,D={};try{if((D=r.extend(S||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:n.utf8encode})).type=D.type.toLowerCase(),D.compression=D.compression.toUpperCase(),D.type==="binarystring"&&(D.type="string"),!D.type)throw new Error("No output type specified.");r.checkSupport(D.type),D.platform!=="darwin"&&D.platform!=="freebsd"&&D.platform!=="linux"&&D.platform!=="sunos"||(D.platform="UNIX"),D.platform==="win32"&&(D.platform="DOS");var W=D.comment||this.comment||"";j=l.generateWorker(this,D,W)}catch(R){(j=new c("error")).error(R)}return new g(j,D.type||"string",D.mimeType)},generateAsync:function(S,j){return this.generateInternalStream(S).accumulate(j)},generateNodeStream:function(S,j){return(S=S||{}).type||(S.type="nodebuffer"),this.generateInternalStream(S).toNodejsStream(j)}};E.exports=A},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(u,E,m){E.exports=u("stream")},{stream:void 0}],17:[function(u,E,m){var s=u("./DataReader");function n(r){s.call(this,r);for(var c=0;c<this.data.length;c++)r[c]=255&r[c]}u("../utils").inherits(n,s),n.prototype.byteAt=function(r){return this.data[this.zero+r]},n.prototype.lastIndexOfSignature=function(r){for(var c=r.charCodeAt(0),g=r.charCodeAt(1),v=r.charCodeAt(2),_=r.charCodeAt(3),y=this.length-4;0<=y;--y)if(this.data[y]===c&&this.data[y+1]===g&&this.data[y+2]===v&&this.data[y+3]===_)return y-this.zero;return-1},n.prototype.readAndCheckSignature=function(r){var c=r.charCodeAt(0),g=r.charCodeAt(1),v=r.charCodeAt(2),_=r.charCodeAt(3),y=this.readData(4);return c===y[0]&&g===y[1]&&v===y[2]&&_===y[3]},n.prototype.readData=function(r){if(this.checkOffset(r),r===0)return[];var c=this.data.slice(this.zero+this.index,this.zero+this.index+r);return this.index+=r,c},E.exports=n},{"../utils":32,"./DataReader":18}],18:[function(u,E,m){var s=u("../utils");function n(r){this.data=r,this.length=r.length,this.index=0,this.zero=0}n.prototype={checkOffset:function(r){this.checkIndex(this.index+r)},checkIndex:function(r){if(this.length<this.zero+r||r<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+r+"). Corrupted zip ?")},setIndex:function(r){this.checkIndex(r),this.index=r},skip:function(r){this.setIndex(this.index+r)},byteAt:function(){},readInt:function(r){var c,g=0;for(this.checkOffset(r),c=this.index+r-1;c>=this.index;c--)g=(g<<8)+this.byteAt(c);return this.index+=r,g},readString:function(r){return s.transformTo("string",this.readData(r))},readData:function(){},lastIndexOfSignature:function(){},readAndCheckSignature:function(){},readDate:function(){var r=this.readInt(4);return new Date(Date.UTC(1980+(r>>25&127),(r>>21&15)-1,r>>16&31,r>>11&31,r>>5&63,(31&r)<<1))}},E.exports=n},{"../utils":32}],19:[function(u,E,m){var s=u("./Uint8ArrayReader");function n(r){s.call(this,r)}u("../utils").inherits(n,s),n.prototype.readData=function(r){this.checkOffset(r);var c=this.data.slice(this.zero+this.index,this.zero+this.index+r);return this.index+=r,c},E.exports=n},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(u,E,m){var s=u("./DataReader");function n(r){s.call(this,r)}u("../utils").inherits(n,s),n.prototype.byteAt=function(r){return this.data.charCodeAt(this.zero+r)},n.prototype.lastIndexOfSignature=function(r){return this.data.lastIndexOf(r)-this.zero},n.prototype.readAndCheckSignature=function(r){return r===this.readData(4)},n.prototype.readData=function(r){this.checkOffset(r);var c=this.data.slice(this.zero+this.index,this.zero+this.index+r);return this.index+=r,c},E.exports=n},{"../utils":32,"./DataReader":18}],21:[function(u,E,m){var s=u("./ArrayReader");function n(r){s.call(this,r)}u("../utils").inherits(n,s),n.prototype.readData=function(r){if(this.checkOffset(r),r===0)return new Uint8Array(0);var c=this.data.subarray(this.zero+this.index,this.zero+this.index+r);return this.index+=r,c},E.exports=n},{"../utils":32,"./ArrayReader":17}],22:[function(u,E,m){var s=u("../utils"),n=u("../support"),r=u("./ArrayReader"),c=u("./StringReader"),g=u("./NodeBufferReader"),v=u("./Uint8ArrayReader");E.exports=function(_){var y=s.getTypeOf(_);return s.checkSupport(y),y!=="string"||n.uint8array?y==="nodebuffer"?new g(_):n.uint8array?new v(s.transformTo("uint8array",_)):new r(s.transformTo("array",_)):new c(_)}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(u,E,m){m.LOCAL_FILE_HEADER="PK",m.CENTRAL_FILE_HEADER="PK",m.CENTRAL_DIRECTORY_END="PK",m.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK\x07",m.ZIP64_CENTRAL_DIRECTORY_END="PK",m.DATA_DESCRIPTOR="PK\x07\b"},{}],24:[function(u,E,m){var s=u("./GenericWorker"),n=u("../utils");function r(c){s.call(this,"ConvertWorker to "+c),this.destType=c}n.inherits(r,s),r.prototype.processChunk=function(c){this.push({data:n.transformTo(this.destType,c.data),meta:c.meta})},E.exports=r},{"../utils":32,"./GenericWorker":28}],25:[function(u,E,m){var s=u("./GenericWorker"),n=u("../crc32");function r(){s.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}u("../utils").inherits(r,s),r.prototype.processChunk=function(c){this.streamInfo.crc32=n(c.data,this.streamInfo.crc32||0),this.push(c)},E.exports=r},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(u,E,m){var s=u("../utils"),n=u("./GenericWorker");function r(c){n.call(this,"DataLengthProbe for "+c),this.propName=c,this.withStreamInfo(c,0)}s.inherits(r,n),r.prototype.processChunk=function(c){if(c){var g=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=g+c.data.length}n.prototype.processChunk.call(this,c)},E.exports=r},{"../utils":32,"./GenericWorker":28}],27:[function(u,E,m){var s=u("../utils"),n=u("./GenericWorker");function r(c){n.call(this,"DataWorker");var g=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,c.then(function(v){g.dataIsReady=!0,g.data=v,g.max=v&&v.length||0,g.type=s.getTypeOf(v),g.isPaused||g._tickAndRepeat()},function(v){g.error(v)})}s.inherits(r,n),r.prototype.cleanUp=function(){n.prototype.cleanUp.call(this),this.data=null},r.prototype.resume=function(){return!!n.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,s.delay(this._tickAndRepeat,[],this)),!0)},r.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(s.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},r.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var c=null,g=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":c=this.data.substring(this.index,g);break;case"uint8array":c=this.data.subarray(this.index,g);break;case"array":case"nodebuffer":c=this.data.slice(this.index,g)}return this.index=g,this.push({data:c,meta:{percent:this.max?this.index/this.max*100:0}})},E.exports=r},{"../utils":32,"./GenericWorker":28}],28:[function(u,E,m){function s(n){this.name=n||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}s.prototype={push:function(n){this.emit("data",n)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(n){this.emit("error",n)}return!0},error:function(n){return!this.isFinished&&(this.isPaused?this.generatedError=n:(this.isFinished=!0,this.emit("error",n),this.previous&&this.previous.error(n),this.cleanUp()),!0)},on:function(n,r){return this._listeners[n].push(r),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(n,r){if(this._listeners[n])for(var c=0;c<this._listeners[n].length;c++)this._listeners[n][c].call(this,r)},pipe:function(n){return n.registerPrevious(this)},registerPrevious:function(n){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=n.streamInfo,this.mergeStreamInfo(),this.previous=n;var r=this;return n.on("data",function(c){r.processChunk(c)}),n.on("end",function(){r.end()}),n.on("error",function(c){r.error(c)}),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;var n=this.isPaused=!1;return this.generatedError&&(this.error(this.generatedError),n=!0),this.previous&&this.previous.resume(),!n},flush:function(){},processChunk:function(n){this.push(n)},withStreamInfo:function(n,r){return this.extraStreamInfo[n]=r,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var n in this.extraStreamInfo)Object.prototype.hasOwnProperty.call(this.extraStreamInfo,n)&&(this.streamInfo[n]=this.extraStreamInfo[n])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var n="Worker "+this.name;return this.previous?this.previous+" -> "+n:n}},E.exports=s},{}],29:[function(u,E,m){var s=u("../utils"),n=u("./ConvertWorker"),r=u("./GenericWorker"),c=u("../base64"),g=u("../support"),v=u("../external"),_=null;if(g.nodestream)try{_=u("../nodejs/NodejsStreamOutputAdapter")}catch(f){}function y(f,a){return new v.Promise(function(i,o){var d=[],b=f._internalType,A=f._outputType,S=f._mimeType;f.on("data",function(j,D){d.push(j),a&&a(D)}).on("error",function(j){d=[],o(j)}).on("end",function(){try{var j=function(D,W,R){switch(D){case"blob":return s.newBlob(s.transformTo("arraybuffer",W),R);case"base64":return c.encode(W);default:return s.transformTo(D,W)}}(A,function(D,W){var R,H=0,K=null,w=0;for(R=0;R<W.length;R++)w+=W[R].length;switch(D){case"string":return W.join("");case"array":return Array.prototype.concat.apply([],W);case"uint8array":for(K=new Uint8Array(w),R=0;R<W.length;R++)K.set(W[R],H),H+=W[R].length;return K;case"nodebuffer":return Buffer.concat(W);default:throw new Error("concat : unsupported type '"+D+"'")}}(b,d),S);i(j)}catch(D){o(D)}d=[]}).resume()})}function l(f,a,i){var o=a;switch(a){case"blob":case"arraybuffer":o="uint8array";break;case"base64":o="string"}try{this._internalType=o,this._outputType=a,this._mimeType=i,s.checkSupport(o),this._worker=f.pipe(new n(o)),f.lock()}catch(d){this._worker=new r("error"),this._worker.error(d)}}l.prototype={accumulate:function(f){return y(this,f)},on:function(f,a){var i=this;return f==="data"?this._worker.on(f,function(o){a.call(i,o.data,o.meta)}):this._worker.on(f,function(){s.delay(a,arguments,i)}),this},resume:function(){return s.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(f){if(s.checkSupport("nodestream"),this._outputType!=="nodebuffer")throw new Error(this._outputType+" is not supported by this method");return new _(this,{objectMode:this._outputType!=="nodebuffer"},f)}},E.exports=l},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(u,E,m){if(m.base64=!0,m.array=!0,m.string=!0,m.arraybuffer=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u",m.nodebuffer=typeof Buffer<"u",m.uint8array=typeof Uint8Array<"u",typeof ArrayBuffer>"u")m.blob=!1;else{var s=new ArrayBuffer(0);try{m.blob=new Blob([s],{type:"application/zip"}).size===0}catch(r){try{var n=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);n.append(s),m.blob=n.getBlob("application/zip").size===0}catch(c){m.blob=!1}}}try{m.nodestream=!!u("readable-stream").Readable}catch(r){m.nodestream=!1}},{"readable-stream":16}],31:[function(u,E,m){for(var s=u("./utils"),n=u("./support"),r=u("./nodejsUtils"),c=u("./stream/GenericWorker"),g=new Array(256),v=0;v<256;v++)g[v]=252<=v?6:248<=v?5:240<=v?4:224<=v?3:192<=v?2:1;g[254]=g[254]=1;function _(){c.call(this,"utf-8 decode"),this.leftOver=null}function y(){c.call(this,"utf-8 encode")}m.utf8encode=function(l){return n.nodebuffer?r.newBufferFrom(l,"utf-8"):function(f){var a,i,o,d,b,A=f.length,S=0;for(d=0;d<A;d++)(64512&(i=f.charCodeAt(d)))==55296&&d+1<A&&(64512&(o=f.charCodeAt(d+1)))==56320&&(i=65536+(i-55296<<10)+(o-56320),d++),S+=i<128?1:i<2048?2:i<65536?3:4;for(a=n.uint8array?new Uint8Array(S):new Array(S),d=b=0;b<S;d++)(64512&(i=f.charCodeAt(d)))==55296&&d+1<A&&(64512&(o=f.charCodeAt(d+1)))==56320&&(i=65536+(i-55296<<10)+(o-56320),d++),i<128?a[b++]=i:(i<2048?a[b++]=192|i>>>6:(i<65536?a[b++]=224|i>>>12:(a[b++]=240|i>>>18,a[b++]=128|i>>>12&63),a[b++]=128|i>>>6&63),a[b++]=128|63&i);return a}(l)},m.utf8decode=function(l){return n.nodebuffer?s.transformTo("nodebuffer",l).toString("utf-8"):function(f){var a,i,o,d,b=f.length,A=new Array(2*b);for(a=i=0;a<b;)if((o=f[a++])<128)A[i++]=o;else if(4<(d=g[o]))A[i++]=65533,a+=d-1;else{for(o&=d===2?31:d===3?15:7;1<d&&a<b;)o=o<<6|63&f[a++],d--;1<d?A[i++]=65533:o<65536?A[i++]=o:(o-=65536,A[i++]=55296|o>>10&1023,A[i++]=56320|1023&o)}return A.length!==i&&(A.subarray?A=A.subarray(0,i):A.length=i),s.applyFromCharCode(A)}(l=s.transformTo(n.uint8array?"uint8array":"array",l))},s.inherits(_,c),_.prototype.processChunk=function(l){var f=s.transformTo(n.uint8array?"uint8array":"array",l.data);if(this.leftOver&&this.leftOver.length){if(n.uint8array){var a=f;(f=new Uint8Array(a.length+this.leftOver.length)).set(this.leftOver,0),f.set(a,this.leftOver.length)}else f=this.leftOver.concat(f);this.leftOver=null}var i=function(d,b){var A;for((b=b||d.length)>d.length&&(b=d.length),A=b-1;0<=A&&(192&d[A])==128;)A--;return A<0||A===0?b:A+g[d[A]]>b?A:b}(f),o=f;i!==f.length&&(n.uint8array?(o=f.subarray(0,i),this.leftOver=f.subarray(i,f.length)):(o=f.slice(0,i),this.leftOver=f.slice(i,f.length))),this.push({data:m.utf8decode(o),meta:l.meta})},_.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:m.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},m.Utf8DecodeWorker=_,s.inherits(y,c),y.prototype.processChunk=function(l){this.push({data:m.utf8encode(l.data),meta:l.meta})},m.Utf8EncodeWorker=y},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(u,E,m){var s=u("./support"),n=u("./base64"),r=u("./nodejsUtils"),c=u("./external");function g(a){return a}function v(a,i){for(var o=0;o<a.length;++o)i[o]=255&a.charCodeAt(o);return i}u("setimmediate"),m.newBlob=function(a,i){m.checkSupport("blob");try{return new Blob([a],{type:i})}catch(d){try{var o=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return o.append(a),o.getBlob(i)}catch(b){throw new Error("Bug : can't construct the Blob.")}}};var _={stringifyByChunk:function(a,i,o){var d=[],b=0,A=a.length;if(A<=o)return String.fromCharCode.apply(null,a);for(;b<A;)i==="array"||i==="nodebuffer"?d.push(String.fromCharCode.apply(null,a.slice(b,Math.min(b+o,A)))):d.push(String.fromCharCode.apply(null,a.subarray(b,Math.min(b+o,A)))),b+=o;return d.join("")},stringifyByChar:function(a){for(var i="",o=0;o<a.length;o++)i+=String.fromCharCode(a[o]);return i},applyCanBeUsed:{uint8array:function(){try{return s.uint8array&&String.fromCharCode.apply(null,new Uint8Array(1)).length===1}catch(a){return!1}}(),nodebuffer:function(){try{return s.nodebuffer&&String.fromCharCode.apply(null,r.allocBuffer(1)).length===1}catch(a){return!1}}()}};function y(a){var i=65536,o=m.getTypeOf(a),d=!0;if(o==="uint8array"?d=_.applyCanBeUsed.uint8array:o==="nodebuffer"&&(d=_.applyCanBeUsed.nodebuffer),d)for(;1<i;)try{return _.stringifyByChunk(a,o,i)}catch(b){i=Math.floor(i/2)}return _.stringifyByChar(a)}function l(a,i){for(var o=0;o<a.length;o++)i[o]=a[o];return i}m.applyFromCharCode=y;var f={};f.string={string:g,array:function(a){return v(a,new Array(a.length))},arraybuffer:function(a){return f.string.uint8array(a).buffer},uint8array:function(a){return v(a,new Uint8Array(a.length))},nodebuffer:function(a){return v(a,r.allocBuffer(a.length))}},f.array={string:y,array:g,arraybuffer:function(a){return new Uint8Array(a).buffer},uint8array:function(a){return new Uint8Array(a)},nodebuffer:function(a){return r.newBufferFrom(a)}},f.arraybuffer={string:function(a){return y(new Uint8Array(a))},array:function(a){return l(new Uint8Array(a),new Array(a.byteLength))},arraybuffer:g,uint8array:function(a){return new Uint8Array(a)},nodebuffer:function(a){return r.newBufferFrom(new Uint8Array(a))}},f.uint8array={string:y,array:function(a){return l(a,new Array(a.length))},arraybuffer:function(a){return a.buffer},uint8array:g,nodebuffer:function(a){return r.newBufferFrom(a)}},f.nodebuffer={string:y,array:function(a){return l(a,new Array(a.length))},arraybuffer:function(a){return f.nodebuffer.uint8array(a).buffer},uint8array:function(a){return l(a,new Uint8Array(a.length))},nodebuffer:g},m.transformTo=function(a,i){if(i=i||"",!a)return i;m.checkSupport(a);var o=m.getTypeOf(i);return f[o][a](i)},m.resolve=function(a){for(var i=a.split("/"),o=[],d=0;d<i.length;d++){var b=i[d];b==="."||b===""&&d!==0&&d!==i.length-1||(b===".."?o.pop():o.push(b))}return o.join("/")},m.getTypeOf=function(a){return typeof a=="string"?"string":Object.prototype.toString.call(a)==="[object Array]"?"array":s.nodebuffer&&r.isBuffer(a)?"nodebuffer":s.uint8array&&a instanceof Uint8Array?"uint8array":s.arraybuffer&&a instanceof ArrayBuffer?"arraybuffer":void 0},m.checkSupport=function(a){if(!s[a.toLowerCase()])throw new Error(a+" is not supported by this platform")},m.MAX_VALUE_16BITS=65535,m.MAX_VALUE_32BITS=-1,m.pretty=function(a){var i,o,d="";for(o=0;o<(a||"").length;o++)d+="\\x"+((i=a.charCodeAt(o))<16?"0":"")+i.toString(16).toUpperCase();return d},m.delay=function(a,i,o){setImmediate(function(){a.apply(o||null,i||[])})},m.inherits=function(a,i){function o(){}o.prototype=i.prototype,a.prototype=new o},m.extend=function(){var a,i,o={};for(a=0;a<arguments.length;a++)for(i in arguments[a])Object.prototype.hasOwnProperty.call(arguments[a],i)&&o[i]===void 0&&(o[i]=arguments[a][i]);return o},m.prepareContent=function(a,i,o,d,b){return c.Promise.resolve(i).then(function(A){return s.blob&&(A instanceof Blob||["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(A))!==-1)&&typeof FileReader<"u"?new c.Promise(function(S,j){var D=new FileReader;D.onload=function(W){S(W.target.result)},D.onerror=function(W){j(W.target.error)},D.readAsArrayBuffer(A)}):A}).then(function(A){var S=m.getTypeOf(A);return S?(S==="arraybuffer"?A=m.transformTo("uint8array",A):S==="string"&&(b?A=n.decode(A):o&&d!==!0&&(A=function(j){return v(j,s.uint8array?new Uint8Array(j.length):new Array(j.length))}(A))),A):c.Promise.reject(new Error("Can't read the data of '"+a+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))})}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,setimmediate:54}],33:[function(u,E,m){var s=u("./reader/readerFor"),n=u("./utils"),r=u("./signature"),c=u("./zipEntry"),g=u("./support");function v(_){this.files=[],this.loadOptions=_}v.prototype={checkSignature:function(_){if(!this.reader.readAndCheckSignature(_)){this.reader.index-=4;var y=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+n.pretty(y)+", expected "+n.pretty(_)+")")}},isSignature:function(_,y){var l=this.reader.index;this.reader.setIndex(_);var f=this.reader.readString(4)===y;return this.reader.setIndex(l),f},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var _=this.reader.readData(this.zipCommentLength),y=g.uint8array?"uint8array":"array",l=n.transformTo(y,_);this.zipComment=this.loadOptions.decodeFileName(l)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var _,y,l,f=this.zip64EndOfCentralSize-44;0<f;)_=this.reader.readInt(2),y=this.reader.readInt(4),l=this.reader.readData(y),this.zip64ExtensibleData[_]={id:_,length:y,value:l}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),1<this.disksCount)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var _,y;for(_=0;_<this.files.length;_++)y=this.files[_],this.reader.setIndex(y.localHeaderOffset),this.checkSignature(r.LOCAL_FILE_HEADER),y.readLocalPart(this.reader),y.handleUTF8(),y.processAttributes()},readCentralDir:function(){var _;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(r.CENTRAL_FILE_HEADER);)(_=new c({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(_);if(this.centralDirRecords!==this.files.length&&this.centralDirRecords!==0&&this.files.length===0)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var _=this.reader.lastIndexOfSignature(r.CENTRAL_DIRECTORY_END);if(_<0)throw this.isSignature(0,r.LOCAL_FILE_HEADER)?new Error("Corrupted zip: can't find end of central directory"):new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html");this.reader.setIndex(_);var y=_;if(this.checkSignature(r.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===n.MAX_VALUE_16BITS||this.diskWithCentralDirStart===n.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===n.MAX_VALUE_16BITS||this.centralDirRecords===n.MAX_VALUE_16BITS||this.centralDirSize===n.MAX_VALUE_32BITS||this.centralDirOffset===n.MAX_VALUE_32BITS){if(this.zip64=!0,(_=this.reader.lastIndexOfSignature(r.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(_),this.checkSignature(r.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,r.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(r.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(r.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var l=this.centralDirOffset+this.centralDirSize;this.zip64&&(l+=20,l+=12+this.zip64EndOfCentralSize);var f=y-l;if(0<f)this.isSignature(y,r.CENTRAL_FILE_HEADER)||(this.reader.zero=f);else if(f<0)throw new Error("Corrupted zip: missing "+Math.abs(f)+" bytes.")},prepareReader:function(_){this.reader=s(_)},load:function(_){this.prepareReader(_),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},E.exports=v},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utils":32,"./zipEntry":34}],34:[function(u,E,m){var s=u("./reader/readerFor"),n=u("./utils"),r=u("./compressedObject"),c=u("./crc32"),g=u("./utf8"),v=u("./compressions"),_=u("./support");function y(l,f){this.options=l,this.loadOptions=f}y.prototype={isEncrypted:function(){return(1&this.bitFlag)==1},useUTF8:function(){return(2048&this.bitFlag)==2048},readLocalPart:function(l){var f,a;if(l.skip(22),this.fileNameLength=l.readInt(2),a=l.readInt(2),this.fileName=l.readData(this.fileNameLength),l.skip(a),this.compressedSize===-1||this.uncompressedSize===-1)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if((f=function(i){for(var o in v)if(Object.prototype.hasOwnProperty.call(v,o)&&v[o].magic===i)return v[o];return null}(this.compressionMethod))===null)throw new Error("Corrupted zip : compression "+n.pretty(this.compressionMethod)+" unknown (inner file : "+n.transformTo("string",this.fileName)+")");this.decompressed=new r(this.compressedSize,this.uncompressedSize,this.crc32,f,l.readData(this.compressedSize))},readCentralPart:function(l){this.versionMadeBy=l.readInt(2),l.skip(2),this.bitFlag=l.readInt(2),this.compressionMethod=l.readString(2),this.date=l.readDate(),this.crc32=l.readInt(4),this.compressedSize=l.readInt(4),this.uncompressedSize=l.readInt(4);var f=l.readInt(2);if(this.extraFieldsLength=l.readInt(2),this.fileCommentLength=l.readInt(2),this.diskNumberStart=l.readInt(2),this.internalFileAttributes=l.readInt(2),this.externalFileAttributes=l.readInt(4),this.localHeaderOffset=l.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");l.skip(f),this.readExtraFields(l),this.parseZIP64ExtraField(l),this.fileComment=l.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var l=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),l==0&&(this.dosPermissions=63&this.externalFileAttributes),l==3&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||this.fileNameStr.slice(-1)!=="/"||(this.dir=!0)},parseZIP64ExtraField:function(){if(this.extraFields[1]){var l=s(this.extraFields[1].value);this.uncompressedSize===n.MAX_VALUE_32BITS&&(this.uncompressedSize=l.readInt(8)),this.compressedSize===n.MAX_VALUE_32BITS&&(this.compressedSize=l.readInt(8)),this.localHeaderOffset===n.MAX_VALUE_32BITS&&(this.localHeaderOffset=l.readInt(8)),this.diskNumberStart===n.MAX_VALUE_32BITS&&(this.diskNumberStart=l.readInt(4))}},readExtraFields:function(l){var f,a,i,o=l.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});l.index+4<o;)f=l.readInt(2),a=l.readInt(2),i=l.readData(a),this.extraFields[f]={id:f,length:a,value:i};l.setIndex(o)},handleUTF8:function(){var l=_.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=g.utf8decode(this.fileName),this.fileCommentStr=g.utf8decode(this.fileComment);else{var f=this.findExtraFieldUnicodePath();if(f!==null)this.fileNameStr=f;else{var a=n.transformTo(l,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(a)}var i=this.findExtraFieldUnicodeComment();if(i!==null)this.fileCommentStr=i;else{var o=n.transformTo(l,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(o)}}},findExtraFieldUnicodePath:function(){var l=this.extraFields[28789];if(l){var f=s(l.value);return f.readInt(1)!==1||c(this.fileName)!==f.readInt(4)?null:g.utf8decode(f.readData(l.length-5))}return null},findExtraFieldUnicodeComment:function(){var l=this.extraFields[25461];if(l){var f=s(l.value);return f.readInt(1)!==1||c(this.fileComment)!==f.readInt(4)?null:g.utf8decode(f.readData(l.length-5))}return null}},E.exports=y},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(u,E,m){function s(f,a,i){this.name=f,this.dir=i.dir,this.date=i.date,this.comment=i.comment,this.unixPermissions=i.unixPermissions,this.dosPermissions=i.dosPermissions,this._data=a,this._dataBinary=i.binary,this.options={compression:i.compression,compressionOptions:i.compressionOptions}}var n=u("./stream/StreamHelper"),r=u("./stream/DataWorker"),c=u("./utf8"),g=u("./compressedObject"),v=u("./stream/GenericWorker");s.prototype={internalStream:function(f){var a=null,i="string";try{if(!f)throw new Error("No output type specified.");var o=(i=f.toLowerCase())==="string"||i==="text";i!=="binarystring"&&i!=="text"||(i="string"),a=this._decompressWorker();var d=!this._dataBinary;d&&!o&&(a=a.pipe(new c.Utf8EncodeWorker)),!d&&o&&(a=a.pipe(new c.Utf8DecodeWorker))}catch(b){(a=new v("error")).error(b)}return new n(a,i,"")},async:function(f,a){return this.internalStream(f).accumulate(a)},nodeStream:function(f,a){return this.internalStream(f||"nodebuffer").toNodejsStream(a)},_compressWorker:function(f,a){if(this._data instanceof g&&this._data.compression.magic===f.magic)return this._data.getCompressedWorker();var i=this._decompressWorker();return this._dataBinary||(i=i.pipe(new c.Utf8EncodeWorker)),g.createWorkerFrom(i,f,a)},_decompressWorker:function(){return this._data instanceof g?this._data.getContentWorker():this._data instanceof v?this._data:new r(this._data)}};for(var _=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],y=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},l=0;l<_.length;l++)s.prototype[_[l]]=y;E.exports=s},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(u,E,m){(function(s){var n,r,c=s.MutationObserver||s.WebKitMutationObserver;if(c){var g=0,v=new c(f),_=s.document.createTextNode("");v.observe(_,{characterData:!0}),n=function(){_.data=g=++g%2}}else if(s.setImmediate||s.MessageChannel===void 0)n="document"in s&&"onreadystatechange"in s.document.createElement("script")?function(){var a=s.document.createElement("script");a.onreadystatechange=function(){f(),a.onreadystatechange=null,a.parentNode.removeChild(a),a=null},s.document.documentElement.appendChild(a)}:function(){setTimeout(f,0)};else{var y=new s.MessageChannel;y.port1.onmessage=f,n=function(){y.port2.postMessage(0)}}var l=[];function f(){var a,i;r=!0;for(var o=l.length;o;){for(i=l,l=[],a=-1;++a<o;)i[a]();o=l.length}r=!1}E.exports=function(a){l.push(a)!==1||r||n()}}).call(this,typeof bt<"u"?bt:typeof self<"u"?self:typeof window<"u"?window:{})},{}],37:[function(u,E,m){var s=u("immediate");function n(){}var r={},c=["REJECTED"],g=["FULFILLED"],v=["PENDING"];function _(o){if(typeof o!="function")throw new TypeError("resolver must be a function");this.state=v,this.queue=[],this.outcome=void 0,o!==n&&a(this,o)}function y(o,d,b){this.promise=o,typeof d=="function"&&(this.onFulfilled=d,this.callFulfilled=this.otherCallFulfilled),typeof b=="function"&&(this.onRejected=b,this.callRejected=this.otherCallRejected)}function l(o,d,b){s(function(){var A;try{A=d(b)}catch(S){return r.reject(o,S)}A===o?r.reject(o,new TypeError("Cannot resolve promise with itself")):r.resolve(o,A)})}function f(o){var d=o&&o.then;if(o&&(typeof o=="object"||typeof o=="function")&&typeof d=="function")return function(){d.apply(o,arguments)}}function a(o,d){var b=!1;function A(D){b||(b=!0,r.reject(o,D))}function S(D){b||(b=!0,r.resolve(o,D))}var j=i(function(){d(S,A)});j.status==="error"&&A(j.value)}function i(o,d){var b={};try{b.value=o(d),b.status="success"}catch(A){b.status="error",b.value=A}return b}(E.exports=_).prototype.finally=function(o){if(typeof o!="function")return this;var d=this.constructor;return this.then(function(b){return d.resolve(o()).then(function(){return b})},function(b){return d.resolve(o()).then(function(){throw b})})},_.prototype.catch=function(o){return this.then(null,o)},_.prototype.then=function(o,d){if(typeof o!="function"&&this.state===g||typeof d!="function"&&this.state===c)return this;var b=new this.constructor(n);return this.state!==v?l(b,this.state===g?o:d,this.outcome):this.queue.push(new y(b,o,d)),b},y.prototype.callFulfilled=function(o){r.resolve(this.promise,o)},y.prototype.otherCallFulfilled=function(o){l(this.promise,this.onFulfilled,o)},y.prototype.callRejected=function(o){r.reject(this.promise,o)},y.prototype.otherCallRejected=function(o){l(this.promise,this.onRejected,o)},r.resolve=function(o,d){var b=i(f,d);if(b.status==="error")return r.reject(o,b.value);var A=b.value;if(A)a(o,A);else{o.state=g,o.outcome=d;for(var S=-1,j=o.queue.length;++S<j;)o.queue[S].callFulfilled(d)}return o},r.reject=function(o,d){o.state=c,o.outcome=d;for(var b=-1,A=o.queue.length;++b<A;)o.queue[b].callRejected(d);return o},_.resolve=function(o){return o instanceof this?o:r.resolve(new this(n),o)},_.reject=function(o){var d=new this(n);return r.reject(d,o)},_.all=function(o){var d=this;if(Object.prototype.toString.call(o)!=="[object Array]")return this.reject(new TypeError("must be an array"));var b=o.length,A=!1;if(!b)return this.resolve([]);for(var S=new Array(b),j=0,D=-1,W=new this(n);++D<b;)R(o[D],D);return W;function R(H,K){d.resolve(H).then(function(w){S[K]=w,++j!==b||A||(A=!0,r.resolve(W,S))},function(w){A||(A=!0,r.reject(W,w))})}},_.race=function(o){var d=this;if(Object.prototype.toString.call(o)!=="[object Array]")return this.reject(new TypeError("must be an array"));var b=o.length,A=!1;if(!b)return this.resolve([]);for(var S=-1,j=new this(n);++S<b;)D=o[S],d.resolve(D).then(function(W){A||(A=!0,r.resolve(j,W))},function(W){A||(A=!0,r.reject(j,W))});var D;return j}},{immediate:36}],38:[function(u,E,m){var s={};(0,u("./lib/utils/common").assign)(s,u("./lib/deflate"),u("./lib/inflate"),u("./lib/zlib/constants")),E.exports=s},{"./lib/deflate":39,"./lib/inflate":40,"./lib/utils/common":41,"./lib/zlib/constants":44}],39:[function(u,E,m){var s=u("./zlib/deflate"),n=u("./utils/common"),r=u("./utils/strings"),c=u("./zlib/messages"),g=u("./zlib/zstream"),v=Object.prototype.toString,_=0,y=-1,l=0,f=8;function a(o){if(!(this instanceof a))return new a(o);this.options=n.assign({level:y,method:f,chunkSize:16384,windowBits:15,memLevel:8,strategy:l,to:""},o||{});var d=this.options;d.raw&&0<d.windowBits?d.windowBits=-d.windowBits:d.gzip&&0<d.windowBits&&d.windowBits<16&&(d.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new g,this.strm.avail_out=0;var b=s.deflateInit2(this.strm,d.level,d.method,d.windowBits,d.memLevel,d.strategy);if(b!==_)throw new Error(c[b]);if(d.header&&s.deflateSetHeader(this.strm,d.header),d.dictionary){var A;if(A=typeof d.dictionary=="string"?r.string2buf(d.dictionary):v.call(d.dictionary)==="[object ArrayBuffer]"?new Uint8Array(d.dictionary):d.dictionary,(b=s.deflateSetDictionary(this.strm,A))!==_)throw new Error(c[b]);this._dict_set=!0}}function i(o,d){var b=new a(d);if(b.push(o,!0),b.err)throw b.msg||c[b.err];return b.result}a.prototype.push=function(o,d){var b,A,S=this.strm,j=this.options.chunkSize;if(this.ended)return!1;A=d===~~d?d:d===!0?4:0,typeof o=="string"?S.input=r.string2buf(o):v.call(o)==="[object ArrayBuffer]"?S.input=new Uint8Array(o):S.input=o,S.next_in=0,S.avail_in=S.input.length;do{if(S.avail_out===0&&(S.output=new n.Buf8(j),S.next_out=0,S.avail_out=j),(b=s.deflate(S,A))!==1&&b!==_)return this.onEnd(b),!(this.ended=!0);S.avail_out!==0&&(S.avail_in!==0||A!==4&&A!==2)||(this.options.to==="string"?this.onData(r.buf2binstring(n.shrinkBuf(S.output,S.next_out))):this.onData(n.shrinkBuf(S.output,S.next_out)))}while((0<S.avail_in||S.avail_out===0)&&b!==1);return A===4?(b=s.deflateEnd(this.strm),this.onEnd(b),this.ended=!0,b===_):A!==2||(this.onEnd(_),!(S.avail_out=0))},a.prototype.onData=function(o){this.chunks.push(o)},a.prototype.onEnd=function(o){o===_&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=n.flattenChunks(this.chunks)),this.chunks=[],this.err=o,this.msg=this.strm.msg},m.Deflate=a,m.deflate=i,m.deflateRaw=function(o,d){return(d=d||{}).raw=!0,i(o,d)},m.gzip=function(o,d){return(d=d||{}).gzip=!0,i(o,d)}},{"./utils/common":41,"./utils/strings":42,"./zlib/deflate":46,"./zlib/messages":51,"./zlib/zstream":53}],40:[function(u,E,m){var s=u("./zlib/inflate"),n=u("./utils/common"),r=u("./utils/strings"),c=u("./zlib/constants"),g=u("./zlib/messages"),v=u("./zlib/zstream"),_=u("./zlib/gzheader"),y=Object.prototype.toString;function l(a){if(!(this instanceof l))return new l(a);this.options=n.assign({chunkSize:16384,windowBits:0,to:""},a||{});var i=this.options;i.raw&&0<=i.windowBits&&i.windowBits<16&&(i.windowBits=-i.windowBits,i.windowBits===0&&(i.windowBits=-15)),!(0<=i.windowBits&&i.windowBits<16)||a&&a.windowBits||(i.windowBits+=32),15<i.windowBits&&i.windowBits<48&&(15&i.windowBits)==0&&(i.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new v,this.strm.avail_out=0;var o=s.inflateInit2(this.strm,i.windowBits);if(o!==c.Z_OK)throw new Error(g[o]);this.header=new _,s.inflateGetHeader(this.strm,this.header)}function f(a,i){var o=new l(i);if(o.push(a,!0),o.err)throw o.msg||g[o.err];return o.result}l.prototype.push=function(a,i){var o,d,b,A,S,j,D=this.strm,W=this.options.chunkSize,R=this.options.dictionary,H=!1;if(this.ended)return!1;d=i===~~i?i:i===!0?c.Z_FINISH:c.Z_NO_FLUSH,typeof a=="string"?D.input=r.binstring2buf(a):y.call(a)==="[object ArrayBuffer]"?D.input=new Uint8Array(a):D.input=a,D.next_in=0,D.avail_in=D.input.length;do{if(D.avail_out===0&&(D.output=new n.Buf8(W),D.next_out=0,D.avail_out=W),(o=s.inflate(D,c.Z_NO_FLUSH))===c.Z_NEED_DICT&&R&&(j=typeof R=="string"?r.string2buf(R):y.call(R)==="[object ArrayBuffer]"?new Uint8Array(R):R,o=s.inflateSetDictionary(this.strm,j)),o===c.Z_BUF_ERROR&&H===!0&&(o=c.Z_OK,H=!1),o!==c.Z_STREAM_END&&o!==c.Z_OK)return this.onEnd(o),!(this.ended=!0);D.next_out&&(D.avail_out!==0&&o!==c.Z_STREAM_END&&(D.avail_in!==0||d!==c.Z_FINISH&&d!==c.Z_SYNC_FLUSH)||(this.options.to==="string"?(b=r.utf8border(D.output,D.next_out),A=D.next_out-b,S=r.buf2string(D.output,b),D.next_out=A,D.avail_out=W-A,A&&n.arraySet(D.output,D.output,b,A,0),this.onData(S)):this.onData(n.shrinkBuf(D.output,D.next_out)))),D.avail_in===0&&D.avail_out===0&&(H=!0)}while((0<D.avail_in||D.avail_out===0)&&o!==c.Z_STREAM_END);return o===c.Z_STREAM_END&&(d=c.Z_FINISH),d===c.Z_FINISH?(o=s.inflateEnd(this.strm),this.onEnd(o),this.ended=!0,o===c.Z_OK):d!==c.Z_SYNC_FLUSH||(this.onEnd(c.Z_OK),!(D.avail_out=0))},l.prototype.onData=function(a){this.chunks.push(a)},l.prototype.onEnd=function(a){a===c.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=n.flattenChunks(this.chunks)),this.chunks=[],this.err=a,this.msg=this.strm.msg},m.Inflate=l,m.inflate=f,m.inflateRaw=function(a,i){return(i=i||{}).raw=!0,f(a,i)},m.ungzip=f},{"./utils/common":41,"./utils/strings":42,"./zlib/constants":44,"./zlib/gzheader":47,"./zlib/inflate":49,"./zlib/messages":51,"./zlib/zstream":53}],41:[function(u,E,m){var s=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";m.assign=function(c){for(var g=Array.prototype.slice.call(arguments,1);g.length;){var v=g.shift();if(v){if(typeof v!="object")throw new TypeError(v+"must be non-object");for(var _ in v)v.hasOwnProperty(_)&&(c[_]=v[_])}}return c},m.shrinkBuf=function(c,g){return c.length===g?c:c.subarray?c.subarray(0,g):(c.length=g,c)};var n={arraySet:function(c,g,v,_,y){if(g.subarray&&c.subarray)c.set(g.subarray(v,v+_),y);else for(var l=0;l<_;l++)c[y+l]=g[v+l]},flattenChunks:function(c){var g,v,_,y,l,f;for(g=_=0,v=c.length;g<v;g++)_+=c[g].length;for(f=new Uint8Array(_),g=y=0,v=c.length;g<v;g++)l=c[g],f.set(l,y),y+=l.length;return f}},r={arraySet:function(c,g,v,_,y){for(var l=0;l<_;l++)c[y+l]=g[v+l]},flattenChunks:function(c){return[].concat.apply([],c)}};m.setTyped=function(c){c?(m.Buf8=Uint8Array,m.Buf16=Uint16Array,m.Buf32=Int32Array,m.assign(m,n)):(m.Buf8=Array,m.Buf16=Array,m.Buf32=Array,m.assign(m,r))},m.setTyped(s)},{}],42:[function(u,E,m){var s=u("./common"),n=!0,r=!0;try{String.fromCharCode.apply(null,[0])}catch(_){n=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(_){r=!1}for(var c=new s.Buf8(256),g=0;g<256;g++)c[g]=252<=g?6:248<=g?5:240<=g?4:224<=g?3:192<=g?2:1;function v(_,y){if(y<65537&&(_.subarray&&r||!_.subarray&&n))return String.fromCharCode.apply(null,s.shrinkBuf(_,y));for(var l="",f=0;f<y;f++)l+=String.fromCharCode(_[f]);return l}c[254]=c[254]=1,m.string2buf=function(_){var y,l,f,a,i,o=_.length,d=0;for(a=0;a<o;a++)(64512&(l=_.charCodeAt(a)))==55296&&a+1<o&&(64512&(f=_.charCodeAt(a+1)))==56320&&(l=65536+(l-55296<<10)+(f-56320),a++),d+=l<128?1:l<2048?2:l<65536?3:4;for(y=new s.Buf8(d),a=i=0;i<d;a++)(64512&(l=_.charCodeAt(a)))==55296&&a+1<o&&(64512&(f=_.charCodeAt(a+1)))==56320&&(l=65536+(l-55296<<10)+(f-56320),a++),l<128?y[i++]=l:(l<2048?y[i++]=192|l>>>6:(l<65536?y[i++]=224|l>>>12:(y[i++]=240|l>>>18,y[i++]=128|l>>>12&63),y[i++]=128|l>>>6&63),y[i++]=128|63&l);return y},m.buf2binstring=function(_){return v(_,_.length)},m.binstring2buf=function(_){for(var y=new s.Buf8(_.length),l=0,f=y.length;l<f;l++)y[l]=_.charCodeAt(l);return y},m.buf2string=function(_,y){var l,f,a,i,o=y||_.length,d=new Array(2*o);for(l=f=0;l<o;)if((a=_[l++])<128)d[f++]=a;else if(4<(i=c[a]))d[f++]=65533,l+=i-1;else{for(a&=i===2?31:i===3?15:7;1<i&&l<o;)a=a<<6|63&_[l++],i--;1<i?d[f++]=65533:a<65536?d[f++]=a:(a-=65536,d[f++]=55296|a>>10&1023,d[f++]=56320|1023&a)}return v(d,f)},m.utf8border=function(_,y){var l;for((y=y||_.length)>_.length&&(y=_.length),l=y-1;0<=l&&(192&_[l])==128;)l--;return l<0||l===0?y:l+c[_[l]]>y?l:y}},{"./common":41}],43:[function(u,E,m){E.exports=function(s,n,r,c){for(var g=65535&s|0,v=s>>>16&65535|0,_=0;r!==0;){for(r-=_=2e3<r?2e3:r;v=v+(g=g+n[c++]|0)|0,--_;);g%=65521,v%=65521}return g|v<<16|0}},{}],44:[function(u,E,m){E.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(u,E,m){var s=function(){for(var n,r=[],c=0;c<256;c++){n=c;for(var g=0;g<8;g++)n=1&n?3988292384^n>>>1:n>>>1;r[c]=n}return r}();E.exports=function(n,r,c,g){var v=s,_=g+c;n^=-1;for(var y=g;y<_;y++)n=n>>>8^v[255&(n^r[y])];return-1^n}},{}],46:[function(u,E,m){var s,n=u("../utils/common"),r=u("./trees"),c=u("./adler32"),g=u("./crc32"),v=u("./messages"),_=0,y=4,l=0,f=-2,a=-1,i=4,o=2,d=8,b=9,A=286,S=30,j=19,D=2*A+1,W=15,R=3,H=258,K=H+R+1,w=42,P=113,t=1,k=2,G=3,U=4;function J(e,N){return e.msg=v[N],N}function F(e){return(e<<1)-(4<e?9:0)}function Q(e){for(var N=e.length;0<=--N;)e[N]=0}function T(e){var N=e.state,B=N.pending;B>e.avail_out&&(B=e.avail_out),B!==0&&(n.arraySet(e.output,N.pending_buf,N.pending_out,B,e.next_out),e.next_out+=B,N.pending_out+=B,e.total_out+=B,e.avail_out-=B,N.pending-=B,N.pending===0&&(N.pending_out=0))}function z(e,N){r._tr_flush_block(e,0<=e.block_start?e.block_start:-1,e.strstart-e.block_start,N),e.block_start=e.strstart,T(e.strm)}function tt(e,N){e.pending_buf[e.pending++]=N}function V(e,N){e.pending_buf[e.pending++]=N>>>8&255,e.pending_buf[e.pending++]=255&N}function q(e,N){var B,p,h=e.max_chain_length,x=e.strstart,L=e.prev_length,M=e.nice_match,O=e.strstart>e.w_size-K?e.strstart-(e.w_size-K):0,Z=e.window,X=e.w_mask,$=e.prev,Y=e.strstart+H,it=Z[x+L-1],rt=Z[x+L];e.prev_length>=e.good_match&&(h>>=2),M>e.lookahead&&(M=e.lookahead);do if(Z[(B=N)+L]===rt&&Z[B+L-1]===it&&Z[B]===Z[x]&&Z[++B]===Z[x+1]){x+=2,B++;do;while(Z[++x]===Z[++B]&&Z[++x]===Z[++B]&&Z[++x]===Z[++B]&&Z[++x]===Z[++B]&&Z[++x]===Z[++B]&&Z[++x]===Z[++B]&&Z[++x]===Z[++B]&&Z[++x]===Z[++B]&&x<Y);if(p=H-(Y-x),x=Y-H,L<p){if(e.match_start=N,M<=(L=p))break;it=Z[x+L-1],rt=Z[x+L]}}while((N=$[N&X])>O&&--h!=0);return L<=e.lookahead?L:e.lookahead}function st(e){var N,B,p,h,x,L,M,O,Z,X,$=e.w_size;do{if(h=e.window_size-e.lookahead-e.strstart,e.strstart>=$+($-K)){for(n.arraySet(e.window,e.window,$,$,0),e.match_start-=$,e.strstart-=$,e.block_start-=$,N=B=e.hash_size;p=e.head[--N],e.head[N]=$<=p?p-$:0,--B;);for(N=B=$;p=e.prev[--N],e.prev[N]=$<=p?p-$:0,--B;);h+=$}if(e.strm.avail_in===0)break;if(L=e.strm,M=e.window,O=e.strstart+e.lookahead,Z=h,X=void 0,X=L.avail_in,Z<X&&(X=Z),B=X===0?0:(L.avail_in-=X,n.arraySet(M,L.input,L.next_in,X,O),L.state.wrap===1?L.adler=c(L.adler,M,X,O):L.state.wrap===2&&(L.adler=g(L.adler,M,X,O)),L.next_in+=X,L.total_in+=X,X),e.lookahead+=B,e.lookahead+e.insert>=R)for(x=e.strstart-e.insert,e.ins_h=e.window[x],e.ins_h=(e.ins_h<<e.hash_shift^e.window[x+1])&e.hash_mask;e.insert&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[x+R-1])&e.hash_mask,e.prev[x&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=x,x++,e.insert--,!(e.lookahead+e.insert<R)););}while(e.lookahead<K&&e.strm.avail_in!==0)}function ct(e,N){for(var B,p;;){if(e.lookahead<K){if(st(e),e.lookahead<K&&N===_)return t;if(e.lookahead===0)break}if(B=0,e.lookahead>=R&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+R-1])&e.hash_mask,B=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),B!==0&&e.strstart-B<=e.w_size-K&&(e.match_length=q(e,B)),e.match_length>=R)if(p=r._tr_tally(e,e.strstart-e.match_start,e.match_length-R),e.lookahead-=e.match_length,e.match_length<=e.max_lazy_match&&e.lookahead>=R){for(e.match_length--;e.strstart++,e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+R-1])&e.hash_mask,B=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart,--e.match_length!=0;);e.strstart++}else e.strstart+=e.match_length,e.match_length=0,e.ins_h=e.window[e.strstart],e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+1])&e.hash_mask;else p=r._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++;if(p&&(z(e,!1),e.strm.avail_out===0))return t}return e.insert=e.strstart<R-1?e.strstart:R-1,N===y?(z(e,!0),e.strm.avail_out===0?G:U):e.last_lit&&(z(e,!1),e.strm.avail_out===0)?t:k}function et(e,N){for(var B,p,h;;){if(e.lookahead<K){if(st(e),e.lookahead<K&&N===_)return t;if(e.lookahead===0)break}if(B=0,e.lookahead>=R&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+R-1])&e.hash_mask,B=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),e.prev_length=e.match_length,e.prev_match=e.match_start,e.match_length=R-1,B!==0&&e.prev_length<e.max_lazy_match&&e.strstart-B<=e.w_size-K&&(e.match_length=q(e,B),e.match_length<=5&&(e.strategy===1||e.match_length===R&&4096<e.strstart-e.match_start)&&(e.match_length=R-1)),e.prev_length>=R&&e.match_length<=e.prev_length){for(h=e.strstart+e.lookahead-R,p=r._tr_tally(e,e.strstart-1-e.prev_match,e.prev_length-R),e.lookahead-=e.prev_length-1,e.prev_length-=2;++e.strstart<=h&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+R-1])&e.hash_mask,B=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),--e.prev_length!=0;);if(e.match_available=0,e.match_length=R-1,e.strstart++,p&&(z(e,!1),e.strm.avail_out===0))return t}else if(e.match_available){if((p=r._tr_tally(e,0,e.window[e.strstart-1]))&&z(e,!1),e.strstart++,e.lookahead--,e.strm.avail_out===0)return t}else e.match_available=1,e.strstart++,e.lookahead--}return e.match_available&&(p=r._tr_tally(e,0,e.window[e.strstart-1]),e.match_available=0),e.insert=e.strstart<R-1?e.strstart:R-1,N===y?(z(e,!0),e.strm.avail_out===0?G:U):e.last_lit&&(z(e,!1),e.strm.avail_out===0)?t:k}function nt(e,N,B,p,h){this.good_length=e,this.max_lazy=N,this.nice_length=B,this.max_chain=p,this.func=h}function lt(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=d,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new n.Buf16(2*D),this.dyn_dtree=new n.Buf16(2*(2*S+1)),this.bl_tree=new n.Buf16(2*(2*j+1)),Q(this.dyn_ltree),Q(this.dyn_dtree),Q(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new n.Buf16(W+1),this.heap=new n.Buf16(2*A+1),Q(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new n.Buf16(2*A+1),Q(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function at(e){var N;return e&&e.state?(e.total_in=e.total_out=0,e.data_type=o,(N=e.state).pending=0,N.pending_out=0,N.wrap<0&&(N.wrap=-N.wrap),N.status=N.wrap?w:P,e.adler=N.wrap===2?0:1,N.last_flush=_,r._tr_init(N),l):J(e,f)}function dt(e){var N=at(e);return N===l&&function(B){B.window_size=2*B.w_size,Q(B.head),B.max_lazy_match=s[B.level].max_lazy,B.good_match=s[B.level].good_length,B.nice_match=s[B.level].nice_length,B.max_chain_length=s[B.level].max_chain,B.strstart=0,B.block_start=0,B.lookahead=0,B.insert=0,B.match_length=B.prev_length=R-1,B.match_available=0,B.ins_h=0}(e.state),N}function ht(e,N,B,p,h,x){if(!e)return f;var L=1;if(N===a&&(N=6),p<0?(L=0,p=-p):15<p&&(L=2,p-=16),h<1||b<h||B!==d||p<8||15<p||N<0||9<N||x<0||i<x)return J(e,f);p===8&&(p=9);var M=new lt;return(e.state=M).strm=e,M.wrap=L,M.gzhead=null,M.w_bits=p,M.w_size=1<<M.w_bits,M.w_mask=M.w_size-1,M.hash_bits=h+7,M.hash_size=1<<M.hash_bits,M.hash_mask=M.hash_size-1,M.hash_shift=~~((M.hash_bits+R-1)/R),M.window=new n.Buf8(2*M.w_size),M.head=new n.Buf16(M.hash_size),M.prev=new n.Buf16(M.w_size),M.lit_bufsize=1<<h+6,M.pending_buf_size=4*M.lit_bufsize,M.pending_buf=new n.Buf8(M.pending_buf_size),M.d_buf=1*M.lit_bufsize,M.l_buf=3*M.lit_bufsize,M.level=N,M.strategy=x,M.method=B,dt(e)}s=[new nt(0,0,0,0,function(e,N){var B=65535;for(B>e.pending_buf_size-5&&(B=e.pending_buf_size-5);;){if(e.lookahead<=1){if(st(e),e.lookahead===0&&N===_)return t;if(e.lookahead===0)break}e.strstart+=e.lookahead,e.lookahead=0;var p=e.block_start+B;if((e.strstart===0||e.strstart>=p)&&(e.lookahead=e.strstart-p,e.strstart=p,z(e,!1),e.strm.avail_out===0)||e.strstart-e.block_start>=e.w_size-K&&(z(e,!1),e.strm.avail_out===0))return t}return e.insert=0,N===y?(z(e,!0),e.strm.avail_out===0?G:U):(e.strstart>e.block_start&&(z(e,!1),e.strm.avail_out),t)}),new nt(4,4,8,4,ct),new nt(4,5,16,8,ct),new nt(4,6,32,32,ct),new nt(4,4,16,16,et),new nt(8,16,32,32,et),new nt(8,16,128,128,et),new nt(8,32,128,256,et),new nt(32,128,258,1024,et),new nt(32,258,258,4096,et)],m.deflateInit=function(e,N){return ht(e,N,d,15,8,0)},m.deflateInit2=ht,m.deflateReset=dt,m.deflateResetKeep=at,m.deflateSetHeader=function(e,N){return e&&e.state?e.state.wrap!==2?f:(e.state.gzhead=N,l):f},m.deflate=function(e,N){var B,p,h,x;if(!e||!e.state||5<N||N<0)return e?J(e,f):f;if(p=e.state,!e.output||!e.input&&e.avail_in!==0||p.status===666&&N!==y)return J(e,e.avail_out===0?-5:f);if(p.strm=e,B=p.last_flush,p.last_flush=N,p.status===w)if(p.wrap===2)e.adler=0,tt(p,31),tt(p,139),tt(p,8),p.gzhead?(tt(p,(p.gzhead.text?1:0)+(p.gzhead.hcrc?2:0)+(p.gzhead.extra?4:0)+(p.gzhead.name?8:0)+(p.gzhead.comment?16:0)),tt(p,255&p.gzhead.time),tt(p,p.gzhead.time>>8&255),tt(p,p.gzhead.time>>16&255),tt(p,p.gzhead.time>>24&255),tt(p,p.level===9?2:2<=p.strategy||p.level<2?4:0),tt(p,255&p.gzhead.os),p.gzhead.extra&&p.gzhead.extra.length&&(tt(p,255&p.gzhead.extra.length),tt(p,p.gzhead.extra.length>>8&255)),p.gzhead.hcrc&&(e.adler=g(e.adler,p.pending_buf,p.pending,0)),p.gzindex=0,p.status=69):(tt(p,0),tt(p,0),tt(p,0),tt(p,0),tt(p,0),tt(p,p.level===9?2:2<=p.strategy||p.level<2?4:0),tt(p,3),p.status=P);else{var L=d+(p.w_bits-8<<4)<<8;L|=(2<=p.strategy||p.level<2?0:p.level<6?1:p.level===6?2:3)<<6,p.strstart!==0&&(L|=32),L+=31-L%31,p.status=P,V(p,L),p.strstart!==0&&(V(p,e.adler>>>16),V(p,65535&e.adler)),e.adler=1}if(p.status===69)if(p.gzhead.extra){for(h=p.pending;p.gzindex<(65535&p.gzhead.extra.length)&&(p.pending!==p.pending_buf_size||(p.gzhead.hcrc&&p.pending>h&&(e.adler=g(e.adler,p.pending_buf,p.pending-h,h)),T(e),h=p.pending,p.pending!==p.pending_buf_size));)tt(p,255&p.gzhead.extra[p.gzindex]),p.gzindex++;p.gzhead.hcrc&&p.pending>h&&(e.adler=g(e.adler,p.pending_buf,p.pending-h,h)),p.gzindex===p.gzhead.extra.length&&(p.gzindex=0,p.status=73)}else p.status=73;if(p.status===73)if(p.gzhead.name){h=p.pending;do{if(p.pending===p.pending_buf_size&&(p.gzhead.hcrc&&p.pending>h&&(e.adler=g(e.adler,p.pending_buf,p.pending-h,h)),T(e),h=p.pending,p.pending===p.pending_buf_size)){x=1;break}x=p.gzindex<p.gzhead.name.length?255&p.gzhead.name.charCodeAt(p.gzindex++):0,tt(p,x)}while(x!==0);p.gzhead.hcrc&&p.pending>h&&(e.adler=g(e.adler,p.pending_buf,p.pending-h,h)),x===0&&(p.gzindex=0,p.status=91)}else p.status=91;if(p.status===91)if(p.gzhead.comment){h=p.pending;do{if(p.pending===p.pending_buf_size&&(p.gzhead.hcrc&&p.pending>h&&(e.adler=g(e.adler,p.pending_buf,p.pending-h,h)),T(e),h=p.pending,p.pending===p.pending_buf_size)){x=1;break}x=p.gzindex<p.gzhead.comment.length?255&p.gzhead.comment.charCodeAt(p.gzindex++):0,tt(p,x)}while(x!==0);p.gzhead.hcrc&&p.pending>h&&(e.adler=g(e.adler,p.pending_buf,p.pending-h,h)),x===0&&(p.status=103)}else p.status=103;if(p.status===103&&(p.gzhead.hcrc?(p.pending+2>p.pending_buf_size&&T(e),p.pending+2<=p.pending_buf_size&&(tt(p,255&e.adler),tt(p,e.adler>>8&255),e.adler=0,p.status=P)):p.status=P),p.pending!==0){if(T(e),e.avail_out===0)return p.last_flush=-1,l}else if(e.avail_in===0&&F(N)<=F(B)&&N!==y)return J(e,-5);if(p.status===666&&e.avail_in!==0)return J(e,-5);if(e.avail_in!==0||p.lookahead!==0||N!==_&&p.status!==666){var M=p.strategy===2?function(O,Z){for(var X;;){if(O.lookahead===0&&(st(O),O.lookahead===0)){if(Z===_)return t;break}if(O.match_length=0,X=r._tr_tally(O,0,O.window[O.strstart]),O.lookahead--,O.strstart++,X&&(z(O,!1),O.strm.avail_out===0))return t}return O.insert=0,Z===y?(z(O,!0),O.strm.avail_out===0?G:U):O.last_lit&&(z(O,!1),O.strm.avail_out===0)?t:k}(p,N):p.strategy===3?function(O,Z){for(var X,$,Y,it,rt=O.window;;){if(O.lookahead<=H){if(st(O),O.lookahead<=H&&Z===_)return t;if(O.lookahead===0)break}if(O.match_length=0,O.lookahead>=R&&0<O.strstart&&($=rt[Y=O.strstart-1])===rt[++Y]&&$===rt[++Y]&&$===rt[++Y]){it=O.strstart+H;do;while($===rt[++Y]&&$===rt[++Y]&&$===rt[++Y]&&$===rt[++Y]&&$===rt[++Y]&&$===rt[++Y]&&$===rt[++Y]&&$===rt[++Y]&&Y<it);O.match_length=H-(it-Y),O.match_length>O.lookahead&&(O.match_length=O.lookahead)}if(O.match_length>=R?(X=r._tr_tally(O,1,O.match_length-R),O.lookahead-=O.match_length,O.strstart+=O.match_length,O.match_length=0):(X=r._tr_tally(O,0,O.window[O.strstart]),O.lookahead--,O.strstart++),X&&(z(O,!1),O.strm.avail_out===0))return t}return O.insert=0,Z===y?(z(O,!0),O.strm.avail_out===0?G:U):O.last_lit&&(z(O,!1),O.strm.avail_out===0)?t:k}(p,N):s[p.level].func(p,N);if(M!==G&&M!==U||(p.status=666),M===t||M===G)return e.avail_out===0&&(p.last_flush=-1),l;if(M===k&&(N===1?r._tr_align(p):N!==5&&(r._tr_stored_block(p,0,0,!1),N===3&&(Q(p.head),p.lookahead===0&&(p.strstart=0,p.block_start=0,p.insert=0))),T(e),e.avail_out===0))return p.last_flush=-1,l}return N!==y?l:p.wrap<=0?1:(p.wrap===2?(tt(p,255&e.adler),tt(p,e.adler>>8&255),tt(p,e.adler>>16&255),tt(p,e.adler>>24&255),tt(p,255&e.total_in),tt(p,e.total_in>>8&255),tt(p,e.total_in>>16&255),tt(p,e.total_in>>24&255)):(V(p,e.adler>>>16),V(p,65535&e.adler)),T(e),0<p.wrap&&(p.wrap=-p.wrap),p.pending!==0?l:1)},m.deflateEnd=function(e){var N;return e&&e.state?(N=e.state.status)!==w&&N!==69&&N!==73&&N!==91&&N!==103&&N!==P&&N!==666?J(e,f):(e.state=null,N===P?J(e,-3):l):f},m.deflateSetDictionary=function(e,N){var B,p,h,x,L,M,O,Z,X=N.length;if(!e||!e.state||(x=(B=e.state).wrap)===2||x===1&&B.status!==w||B.lookahead)return f;for(x===1&&(e.adler=c(e.adler,N,X,0)),B.wrap=0,X>=B.w_size&&(x===0&&(Q(B.head),B.strstart=0,B.block_start=0,B.insert=0),Z=new n.Buf8(B.w_size),n.arraySet(Z,N,X-B.w_size,B.w_size,0),N=Z,X=B.w_size),L=e.avail_in,M=e.next_in,O=e.input,e.avail_in=X,e.next_in=0,e.input=N,st(B);B.lookahead>=R;){for(p=B.strstart,h=B.lookahead-(R-1);B.ins_h=(B.ins_h<<B.hash_shift^B.window[p+R-1])&B.hash_mask,B.prev[p&B.w_mask]=B.head[B.ins_h],B.head[B.ins_h]=p,p++,--h;);B.strstart=p,B.lookahead=R-1,st(B)}return B.strstart+=B.lookahead,B.block_start=B.strstart,B.insert=B.lookahead,B.lookahead=0,B.match_length=B.prev_length=R-1,B.match_available=0,e.next_in=M,e.input=O,e.avail_in=L,B.wrap=x,l},m.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./messages":51,"./trees":52}],47:[function(u,E,m){E.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],48:[function(u,E,m){E.exports=function(s,n){var r,c,g,v,_,y,l,f,a,i,o,d,b,A,S,j,D,W,R,H,K,w,P,t,k;r=s.state,c=s.next_in,t=s.input,g=c+(s.avail_in-5),v=s.next_out,k=s.output,_=v-(n-s.avail_out),y=v+(s.avail_out-257),l=r.dmax,f=r.wsize,a=r.whave,i=r.wnext,o=r.window,d=r.hold,b=r.bits,A=r.lencode,S=r.distcode,j=(1<<r.lenbits)-1,D=(1<<r.distbits)-1;t:do{b<15&&(d+=t[c++]<<b,b+=8,d+=t[c++]<<b,b+=8),W=A[d&j];e:for(;;){if(d>>>=R=W>>>24,b-=R,(R=W>>>16&255)===0)k[v++]=65535&W;else{if(!(16&R)){if((64&R)==0){W=A[(65535&W)+(d&(1<<R)-1)];continue e}if(32&R){r.mode=12;break t}s.msg="invalid literal/length code",r.mode=30;break t}H=65535&W,(R&=15)&&(b<R&&(d+=t[c++]<<b,b+=8),H+=d&(1<<R)-1,d>>>=R,b-=R),b<15&&(d+=t[c++]<<b,b+=8,d+=t[c++]<<b,b+=8),W=S[d&D];r:for(;;){if(d>>>=R=W>>>24,b-=R,!(16&(R=W>>>16&255))){if((64&R)==0){W=S[(65535&W)+(d&(1<<R)-1)];continue r}s.msg="invalid distance code",r.mode=30;break t}if(K=65535&W,b<(R&=15)&&(d+=t[c++]<<b,(b+=8)<R&&(d+=t[c++]<<b,b+=8)),l<(K+=d&(1<<R)-1)){s.msg="invalid distance too far back",r.mode=30;break t}if(d>>>=R,b-=R,(R=v-_)<K){if(a<(R=K-R)&&r.sane){s.msg="invalid distance too far back",r.mode=30;break t}if(P=o,(w=0)===i){if(w+=f-R,R<H){for(H-=R;k[v++]=o[w++],--R;);w=v-K,P=k}}else if(i<R){if(w+=f+i-R,(R-=i)<H){for(H-=R;k[v++]=o[w++],--R;);if(w=0,i<H){for(H-=R=i;k[v++]=o[w++],--R;);w=v-K,P=k}}}else if(w+=i-R,R<H){for(H-=R;k[v++]=o[w++],--R;);w=v-K,P=k}for(;2<H;)k[v++]=P[w++],k[v++]=P[w++],k[v++]=P[w++],H-=3;H&&(k[v++]=P[w++],1<H&&(k[v++]=P[w++]))}else{for(w=v-K;k[v++]=k[w++],k[v++]=k[w++],k[v++]=k[w++],2<(H-=3););H&&(k[v++]=k[w++],1<H&&(k[v++]=k[w++]))}break}}break}}while(c<g&&v<y);c-=H=b>>3,d&=(1<<(b-=H<<3))-1,s.next_in=c,s.next_out=v,s.avail_in=c<g?g-c+5:5-(c-g),s.avail_out=v<y?y-v+257:257-(v-y),r.hold=d,r.bits=b}},{}],49:[function(u,E,m){var s=u("../utils/common"),n=u("./adler32"),r=u("./crc32"),c=u("./inffast"),g=u("./inftrees"),v=1,_=2,y=0,l=-2,f=1,a=852,i=592;function o(w){return(w>>>24&255)+(w>>>8&65280)+((65280&w)<<8)+((255&w)<<24)}function d(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new s.Buf16(320),this.work=new s.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function b(w){var P;return w&&w.state?(P=w.state,w.total_in=w.total_out=P.total=0,w.msg="",P.wrap&&(w.adler=1&P.wrap),P.mode=f,P.last=0,P.havedict=0,P.dmax=32768,P.head=null,P.hold=0,P.bits=0,P.lencode=P.lendyn=new s.Buf32(a),P.distcode=P.distdyn=new s.Buf32(i),P.sane=1,P.back=-1,y):l}function A(w){var P;return w&&w.state?((P=w.state).wsize=0,P.whave=0,P.wnext=0,b(w)):l}function S(w,P){var t,k;return w&&w.state?(k=w.state,P<0?(t=0,P=-P):(t=1+(P>>4),P<48&&(P&=15)),P&&(P<8||15<P)?l:(k.window!==null&&k.wbits!==P&&(k.window=null),k.wrap=t,k.wbits=P,A(w))):l}function j(w,P){var t,k;return w?(k=new d,(w.state=k).window=null,(t=S(w,P))!==y&&(w.state=null),t):l}var D,W,R=!0;function H(w){if(R){var P;for(D=new s.Buf32(512),W=new s.Buf32(32),P=0;P<144;)w.lens[P++]=8;for(;P<256;)w.lens[P++]=9;for(;P<280;)w.lens[P++]=7;for(;P<288;)w.lens[P++]=8;for(g(v,w.lens,0,288,D,0,w.work,{bits:9}),P=0;P<32;)w.lens[P++]=5;g(_,w.lens,0,32,W,0,w.work,{bits:5}),R=!1}w.lencode=D,w.lenbits=9,w.distcode=W,w.distbits=5}function K(w,P,t,k){var G,U=w.state;return U.window===null&&(U.wsize=1<<U.wbits,U.wnext=0,U.whave=0,U.window=new s.Buf8(U.wsize)),k>=U.wsize?(s.arraySet(U.window,P,t-U.wsize,U.wsize,0),U.wnext=0,U.whave=U.wsize):(k<(G=U.wsize-U.wnext)&&(G=k),s.arraySet(U.window,P,t-k,G,U.wnext),(k-=G)?(s.arraySet(U.window,P,t-k,k,0),U.wnext=k,U.whave=U.wsize):(U.wnext+=G,U.wnext===U.wsize&&(U.wnext=0),U.whave<U.wsize&&(U.whave+=G))),0}m.inflateReset=A,m.inflateReset2=S,m.inflateResetKeep=b,m.inflateInit=function(w){return j(w,15)},m.inflateInit2=j,m.inflate=function(w,P){var t,k,G,U,J,F,Q,T,z,tt,V,q,st,ct,et,nt,lt,at,dt,ht,e,N,B,p,h=0,x=new s.Buf8(4),L=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!w||!w.state||!w.output||!w.input&&w.avail_in!==0)return l;(t=w.state).mode===12&&(t.mode=13),J=w.next_out,G=w.output,Q=w.avail_out,U=w.next_in,k=w.input,F=w.avail_in,T=t.hold,z=t.bits,tt=F,V=Q,N=y;t:for(;;)switch(t.mode){case f:if(t.wrap===0){t.mode=13;break}for(;z<16;){if(F===0)break t;F--,T+=k[U++]<<z,z+=8}if(2&t.wrap&&T===35615){x[t.check=0]=255&T,x[1]=T>>>8&255,t.check=r(t.check,x,2,0),z=T=0,t.mode=2;break}if(t.flags=0,t.head&&(t.head.done=!1),!(1&t.wrap)||(((255&T)<<8)+(T>>8))%31){w.msg="incorrect header check",t.mode=30;break}if((15&T)!=8){w.msg="unknown compression method",t.mode=30;break}if(z-=4,e=8+(15&(T>>>=4)),t.wbits===0)t.wbits=e;else if(e>t.wbits){w.msg="invalid window size",t.mode=30;break}t.dmax=1<<e,w.adler=t.check=1,t.mode=512&T?10:12,z=T=0;break;case 2:for(;z<16;){if(F===0)break t;F--,T+=k[U++]<<z,z+=8}if(t.flags=T,(255&t.flags)!=8){w.msg="unknown compression method",t.mode=30;break}if(57344&t.flags){w.msg="unknown header flags set",t.mode=30;break}t.head&&(t.head.text=T>>8&1),512&t.flags&&(x[0]=255&T,x[1]=T>>>8&255,t.check=r(t.check,x,2,0)),z=T=0,t.mode=3;case 3:for(;z<32;){if(F===0)break t;F--,T+=k[U++]<<z,z+=8}t.head&&(t.head.time=T),512&t.flags&&(x[0]=255&T,x[1]=T>>>8&255,x[2]=T>>>16&255,x[3]=T>>>24&255,t.check=r(t.check,x,4,0)),z=T=0,t.mode=4;case 4:for(;z<16;){if(F===0)break t;F--,T+=k[U++]<<z,z+=8}t.head&&(t.head.xflags=255&T,t.head.os=T>>8),512&t.flags&&(x[0]=255&T,x[1]=T>>>8&255,t.check=r(t.check,x,2,0)),z=T=0,t.mode=5;case 5:if(1024&t.flags){for(;z<16;){if(F===0)break t;F--,T+=k[U++]<<z,z+=8}t.length=T,t.head&&(t.head.extra_len=T),512&t.flags&&(x[0]=255&T,x[1]=T>>>8&255,t.check=r(t.check,x,2,0)),z=T=0}else t.head&&(t.head.extra=null);t.mode=6;case 6:if(1024&t.flags&&(F<(q=t.length)&&(q=F),q&&(t.head&&(e=t.head.extra_len-t.length,t.head.extra||(t.head.extra=new Array(t.head.extra_len)),s.arraySet(t.head.extra,k,U,q,e)),512&t.flags&&(t.check=r(t.check,k,q,U)),F-=q,U+=q,t.length-=q),t.length))break t;t.length=0,t.mode=7;case 7:if(2048&t.flags){if(F===0)break t;for(q=0;e=k[U+q++],t.head&&e&&t.length<65536&&(t.head.name+=String.fromCharCode(e)),e&&q<F;);if(512&t.flags&&(t.check=r(t.check,k,q,U)),F-=q,U+=q,e)break t}else t.head&&(t.head.name=null);t.length=0,t.mode=8;case 8:if(4096&t.flags){if(F===0)break t;for(q=0;e=k[U+q++],t.head&&e&&t.length<65536&&(t.head.comment+=String.fromCharCode(e)),e&&q<F;);if(512&t.flags&&(t.check=r(t.check,k,q,U)),F-=q,U+=q,e)break t}else t.head&&(t.head.comment=null);t.mode=9;case 9:if(512&t.flags){for(;z<16;){if(F===0)break t;F--,T+=k[U++]<<z,z+=8}if(T!==(65535&t.check)){w.msg="header crc mismatch",t.mode=30;break}z=T=0}t.head&&(t.head.hcrc=t.flags>>9&1,t.head.done=!0),w.adler=t.check=0,t.mode=12;break;case 10:for(;z<32;){if(F===0)break t;F--,T+=k[U++]<<z,z+=8}w.adler=t.check=o(T),z=T=0,t.mode=11;case 11:if(t.havedict===0)return w.next_out=J,w.avail_out=Q,w.next_in=U,w.avail_in=F,t.hold=T,t.bits=z,2;w.adler=t.check=1,t.mode=12;case 12:if(P===5||P===6)break t;case 13:if(t.last){T>>>=7&z,z-=7&z,t.mode=27;break}for(;z<3;){if(F===0)break t;F--,T+=k[U++]<<z,z+=8}switch(t.last=1&T,z-=1,3&(T>>>=1)){case 0:t.mode=14;break;case 1:if(H(t),t.mode=20,P!==6)break;T>>>=2,z-=2;break t;case 2:t.mode=17;break;case 3:w.msg="invalid block type",t.mode=30}T>>>=2,z-=2;break;case 14:for(T>>>=7&z,z-=7&z;z<32;){if(F===0)break t;F--,T+=k[U++]<<z,z+=8}if((65535&T)!=(T>>>16^65535)){w.msg="invalid stored block lengths",t.mode=30;break}if(t.length=65535&T,z=T=0,t.mode=15,P===6)break t;case 15:t.mode=16;case 16:if(q=t.length){if(F<q&&(q=F),Q<q&&(q=Q),q===0)break t;s.arraySet(G,k,U,q,J),F-=q,U+=q,Q-=q,J+=q,t.length-=q;break}t.mode=12;break;case 17:for(;z<14;){if(F===0)break t;F--,T+=k[U++]<<z,z+=8}if(t.nlen=257+(31&T),T>>>=5,z-=5,t.ndist=1+(31&T),T>>>=5,z-=5,t.ncode=4+(15&T),T>>>=4,z-=4,286<t.nlen||30<t.ndist){w.msg="too many length or distance symbols",t.mode=30;break}t.have=0,t.mode=18;case 18:for(;t.have<t.ncode;){for(;z<3;){if(F===0)break t;F--,T+=k[U++]<<z,z+=8}t.lens[L[t.have++]]=7&T,T>>>=3,z-=3}for(;t.have<19;)t.lens[L[t.have++]]=0;if(t.lencode=t.lendyn,t.lenbits=7,B={bits:t.lenbits},N=g(0,t.lens,0,19,t.lencode,0,t.work,B),t.lenbits=B.bits,N){w.msg="invalid code lengths set",t.mode=30;break}t.have=0,t.mode=19;case 19:for(;t.have<t.nlen+t.ndist;){for(;nt=(h=t.lencode[T&(1<<t.lenbits)-1])>>>16&255,lt=65535&h,!((et=h>>>24)<=z);){if(F===0)break t;F--,T+=k[U++]<<z,z+=8}if(lt<16)T>>>=et,z-=et,t.lens[t.have++]=lt;else{if(lt===16){for(p=et+2;z<p;){if(F===0)break t;F--,T+=k[U++]<<z,z+=8}if(T>>>=et,z-=et,t.have===0){w.msg="invalid bit length repeat",t.mode=30;break}e=t.lens[t.have-1],q=3+(3&T),T>>>=2,z-=2}else if(lt===17){for(p=et+3;z<p;){if(F===0)break t;F--,T+=k[U++]<<z,z+=8}z-=et,e=0,q=3+(7&(T>>>=et)),T>>>=3,z-=3}else{for(p=et+7;z<p;){if(F===0)break t;F--,T+=k[U++]<<z,z+=8}z-=et,e=0,q=11+(127&(T>>>=et)),T>>>=7,z-=7}if(t.have+q>t.nlen+t.ndist){w.msg="invalid bit length repeat",t.mode=30;break}for(;q--;)t.lens[t.have++]=e}}if(t.mode===30)break;if(t.lens[256]===0){w.msg="invalid code -- missing end-of-block",t.mode=30;break}if(t.lenbits=9,B={bits:t.lenbits},N=g(v,t.lens,0,t.nlen,t.lencode,0,t.work,B),t.lenbits=B.bits,N){w.msg="invalid literal/lengths set",t.mode=30;break}if(t.distbits=6,t.distcode=t.distdyn,B={bits:t.distbits},N=g(_,t.lens,t.nlen,t.ndist,t.distcode,0,t.work,B),t.distbits=B.bits,N){w.msg="invalid distances set",t.mode=30;break}if(t.mode=20,P===6)break t;case 20:t.mode=21;case 21:if(6<=F&&258<=Q){w.next_out=J,w.avail_out=Q,w.next_in=U,w.avail_in=F,t.hold=T,t.bits=z,c(w,V),J=w.next_out,G=w.output,Q=w.avail_out,U=w.next_in,k=w.input,F=w.avail_in,T=t.hold,z=t.bits,t.mode===12&&(t.back=-1);break}for(t.back=0;nt=(h=t.lencode[T&(1<<t.lenbits)-1])>>>16&255,lt=65535&h,!((et=h>>>24)<=z);){if(F===0)break t;F--,T+=k[U++]<<z,z+=8}if(nt&&(240&nt)==0){for(at=et,dt=nt,ht=lt;nt=(h=t.lencode[ht+((T&(1<<at+dt)-1)>>at)])>>>16&255,lt=65535&h,!(at+(et=h>>>24)<=z);){if(F===0)break t;F--,T+=k[U++]<<z,z+=8}T>>>=at,z-=at,t.back+=at}if(T>>>=et,z-=et,t.back+=et,t.length=lt,nt===0){t.mode=26;break}if(32&nt){t.back=-1,t.mode=12;break}if(64&nt){w.msg="invalid literal/length code",t.mode=30;break}t.extra=15&nt,t.mode=22;case 22:if(t.extra){for(p=t.extra;z<p;){if(F===0)break t;F--,T+=k[U++]<<z,z+=8}t.length+=T&(1<<t.extra)-1,T>>>=t.extra,z-=t.extra,t.back+=t.extra}t.was=t.length,t.mode=23;case 23:for(;nt=(h=t.distcode[T&(1<<t.distbits)-1])>>>16&255,lt=65535&h,!((et=h>>>24)<=z);){if(F===0)break t;F--,T+=k[U++]<<z,z+=8}if((240&nt)==0){for(at=et,dt=nt,ht=lt;nt=(h=t.distcode[ht+((T&(1<<at+dt)-1)>>at)])>>>16&255,lt=65535&h,!(at+(et=h>>>24)<=z);){if(F===0)break t;F--,T+=k[U++]<<z,z+=8}T>>>=at,z-=at,t.back+=at}if(T>>>=et,z-=et,t.back+=et,64&nt){w.msg="invalid distance code",t.mode=30;break}t.offset=lt,t.extra=15&nt,t.mode=24;case 24:if(t.extra){for(p=t.extra;z<p;){if(F===0)break t;F--,T+=k[U++]<<z,z+=8}t.offset+=T&(1<<t.extra)-1,T>>>=t.extra,z-=t.extra,t.back+=t.extra}if(t.offset>t.dmax){w.msg="invalid distance too far back",t.mode=30;break}t.mode=25;case 25:if(Q===0)break t;if(q=V-Q,t.offset>q){if((q=t.offset-q)>t.whave&&t.sane){w.msg="invalid distance too far back",t.mode=30;break}st=q>t.wnext?(q-=t.wnext,t.wsize-q):t.wnext-q,q>t.length&&(q=t.length),ct=t.window}else ct=G,st=J-t.offset,q=t.length;for(Q<q&&(q=Q),Q-=q,t.length-=q;G[J++]=ct[st++],--q;);t.length===0&&(t.mode=21);break;case 26:if(Q===0)break t;G[J++]=t.length,Q--,t.mode=21;break;case 27:if(t.wrap){for(;z<32;){if(F===0)break t;F--,T|=k[U++]<<z,z+=8}if(V-=Q,w.total_out+=V,t.total+=V,V&&(w.adler=t.check=t.flags?r(t.check,G,V,J-V):n(t.check,G,V,J-V)),V=Q,(t.flags?T:o(T))!==t.check){w.msg="incorrect data check",t.mode=30;break}z=T=0}t.mode=28;case 28:if(t.wrap&&t.flags){for(;z<32;){if(F===0)break t;F--,T+=k[U++]<<z,z+=8}if(T!==(4294967295&t.total)){w.msg="incorrect length check",t.mode=30;break}z=T=0}t.mode=29;case 29:N=1;break t;case 30:N=-3;break t;case 31:return-4;case 32:default:return l}return w.next_out=J,w.avail_out=Q,w.next_in=U,w.avail_in=F,t.hold=T,t.bits=z,(t.wsize||V!==w.avail_out&&t.mode<30&&(t.mode<27||P!==4))&&K(w,w.output,w.next_out,V-w.avail_out)?(t.mode=31,-4):(tt-=w.avail_in,V-=w.avail_out,w.total_in+=tt,w.total_out+=V,t.total+=V,t.wrap&&V&&(w.adler=t.check=t.flags?r(t.check,G,V,w.next_out-V):n(t.check,G,V,w.next_out-V)),w.data_type=t.bits+(t.last?64:0)+(t.mode===12?128:0)+(t.mode===20||t.mode===15?256:0),(tt==0&&V===0||P===4)&&N===y&&(N=-5),N)},m.inflateEnd=function(w){if(!w||!w.state)return l;var P=w.state;return P.window&&(P.window=null),w.state=null,y},m.inflateGetHeader=function(w,P){var t;return w&&w.state?(2&(t=w.state).wrap)==0?l:((t.head=P).done=!1,y):l},m.inflateSetDictionary=function(w,P){var t,k=P.length;return w&&w.state?(t=w.state).wrap!==0&&t.mode!==11?l:t.mode===11&&n(1,P,k,0)!==t.check?-3:K(w,P,k,k)?(t.mode=31,-4):(t.havedict=1,y):l},m.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./inffast":48,"./inftrees":50}],50:[function(u,E,m){var s=u("../utils/common"),n=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],r=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],c=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],g=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];E.exports=function(v,_,y,l,f,a,i,o){var d,b,A,S,j,D,W,R,H,K=o.bits,w=0,P=0,t=0,k=0,G=0,U=0,J=0,F=0,Q=0,T=0,z=null,tt=0,V=new s.Buf16(16),q=new s.Buf16(16),st=null,ct=0;for(w=0;w<=15;w++)V[w]=0;for(P=0;P<l;P++)V[_[y+P]]++;for(G=K,k=15;1<=k&&V[k]===0;k--);if(k<G&&(G=k),k===0)return f[a++]=20971520,f[a++]=20971520,o.bits=1,0;for(t=1;t<k&&V[t]===0;t++);for(G<t&&(G=t),w=F=1;w<=15;w++)if(F<<=1,(F-=V[w])<0)return-1;if(0<F&&(v===0||k!==1))return-1;for(q[1]=0,w=1;w<15;w++)q[w+1]=q[w]+V[w];for(P=0;P<l;P++)_[y+P]!==0&&(i[q[_[y+P]]++]=P);if(D=v===0?(z=st=i,19):v===1?(z=n,tt-=257,st=r,ct-=257,256):(z=c,st=g,-1),w=t,j=a,J=P=T=0,A=-1,S=(Q=1<<(U=G))-1,v===1&&852<Q||v===2&&592<Q)return 1;for(;;){for(W=w-J,H=i[P]<D?(R=0,i[P]):i[P]>D?(R=st[ct+i[P]],z[tt+i[P]]):(R=96,0),d=1<<w-J,t=b=1<<U;f[j+(T>>J)+(b-=d)]=W<<24|R<<16|H|0,b!==0;);for(d=1<<w-1;T&d;)d>>=1;if(d!==0?(T&=d-1,T+=d):T=0,P++,--V[w]==0){if(w===k)break;w=_[y+i[P]]}if(G<w&&(T&S)!==A){for(J===0&&(J=G),j+=t,F=1<<(U=w-J);U+J<k&&!((F-=V[U+J])<=0);)U++,F<<=1;if(Q+=1<<U,v===1&&852<Q||v===2&&592<Q)return 1;f[A=T&S]=G<<24|U<<16|j-a|0}}return T!==0&&(f[j+T]=w-J<<24|64<<16|0),o.bits=G,0}},{"../utils/common":41}],51:[function(u,E,m){E.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],52:[function(u,E,m){var s=u("../utils/common"),n=0,r=1;function c(h){for(var x=h.length;0<=--x;)h[x]=0}var g=0,v=29,_=256,y=_+1+v,l=30,f=19,a=2*y+1,i=15,o=16,d=7,b=256,A=16,S=17,j=18,D=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],W=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],R=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],H=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],K=new Array(2*(y+2));c(K);var w=new Array(2*l);c(w);var P=new Array(512);c(P);var t=new Array(256);c(t);var k=new Array(v);c(k);var G,U,J,F=new Array(l);function Q(h,x,L,M,O){this.static_tree=h,this.extra_bits=x,this.extra_base=L,this.elems=M,this.max_length=O,this.has_stree=h&&h.length}function T(h,x){this.dyn_tree=h,this.max_code=0,this.stat_desc=x}function z(h){return h<256?P[h]:P[256+(h>>>7)]}function tt(h,x){h.pending_buf[h.pending++]=255&x,h.pending_buf[h.pending++]=x>>>8&255}function V(h,x,L){h.bi_valid>o-L?(h.bi_buf|=x<<h.bi_valid&65535,tt(h,h.bi_buf),h.bi_buf=x>>o-h.bi_valid,h.bi_valid+=L-o):(h.bi_buf|=x<<h.bi_valid&65535,h.bi_valid+=L)}function q(h,x,L){V(h,L[2*x],L[2*x+1])}function st(h,x){for(var L=0;L|=1&h,h>>>=1,L<<=1,0<--x;);return L>>>1}function ct(h,x,L){var M,O,Z=new Array(i+1),X=0;for(M=1;M<=i;M++)Z[M]=X=X+L[M-1]<<1;for(O=0;O<=x;O++){var $=h[2*O+1];$!==0&&(h[2*O]=st(Z[$]++,$))}}function et(h){var x;for(x=0;x<y;x++)h.dyn_ltree[2*x]=0;for(x=0;x<l;x++)h.dyn_dtree[2*x]=0;for(x=0;x<f;x++)h.bl_tree[2*x]=0;h.dyn_ltree[2*b]=1,h.opt_len=h.static_len=0,h.last_lit=h.matches=0}function nt(h){8<h.bi_valid?tt(h,h.bi_buf):0<h.bi_valid&&(h.pending_buf[h.pending++]=h.bi_buf),h.bi_buf=0,h.bi_valid=0}function lt(h,x,L,M){var O=2*x,Z=2*L;return h[O]<h[Z]||h[O]===h[Z]&&M[x]<=M[L]}function at(h,x,L){for(var M=h.heap[L],O=L<<1;O<=h.heap_len&&(O<h.heap_len&&lt(x,h.heap[O+1],h.heap[O],h.depth)&&O++,!lt(x,M,h.heap[O],h.depth));)h.heap[L]=h.heap[O],L=O,O<<=1;h.heap[L]=M}function dt(h,x,L){var M,O,Z,X,$=0;if(h.last_lit!==0)for(;M=h.pending_buf[h.d_buf+2*$]<<8|h.pending_buf[h.d_buf+2*$+1],O=h.pending_buf[h.l_buf+$],$++,M===0?q(h,O,x):(q(h,(Z=t[O])+_+1,x),(X=D[Z])!==0&&V(h,O-=k[Z],X),q(h,Z=z(--M),L),(X=W[Z])!==0&&V(h,M-=F[Z],X)),$<h.last_lit;);q(h,b,x)}function ht(h,x){var L,M,O,Z=x.dyn_tree,X=x.stat_desc.static_tree,$=x.stat_desc.has_stree,Y=x.stat_desc.elems,it=-1;for(h.heap_len=0,h.heap_max=a,L=0;L<Y;L++)Z[2*L]!==0?(h.heap[++h.heap_len]=it=L,h.depth[L]=0):Z[2*L+1]=0;for(;h.heap_len<2;)Z[2*(O=h.heap[++h.heap_len]=it<2?++it:0)]=1,h.depth[O]=0,h.opt_len--,$&&(h.static_len-=X[2*O+1]);for(x.max_code=it,L=h.heap_len>>1;1<=L;L--)at(h,Z,L);for(O=Y;L=h.heap[1],h.heap[1]=h.heap[h.heap_len--],at(h,Z,1),M=h.heap[1],h.heap[--h.heap_max]=L,h.heap[--h.heap_max]=M,Z[2*O]=Z[2*L]+Z[2*M],h.depth[O]=(h.depth[L]>=h.depth[M]?h.depth[L]:h.depth[M])+1,Z[2*L+1]=Z[2*M+1]=O,h.heap[1]=O++,at(h,Z,1),2<=h.heap_len;);h.heap[--h.heap_max]=h.heap[1],function(rt,ut){var _t,pt,gt,ot,Et,Bt,mt=ut.dyn_tree,$t=ut.max_code,de=ut.stat_desc.static_tree,pe=ut.stat_desc.has_stree,me=ut.stat_desc.extra_bits,Gt=ut.stat_desc.extra_base,yt=ut.stat_desc.max_length,St=0;for(ot=0;ot<=i;ot++)rt.bl_count[ot]=0;for(mt[2*rt.heap[rt.heap_max]+1]=0,_t=rt.heap_max+1;_t<a;_t++)yt<(ot=mt[2*mt[2*(pt=rt.heap[_t])+1]+1]+1)&&(ot=yt,St++),mt[2*pt+1]=ot,$t<pt||(rt.bl_count[ot]++,Et=0,Gt<=pt&&(Et=me[pt-Gt]),Bt=mt[2*pt],rt.opt_len+=Bt*(ot+Et),pe&&(rt.static_len+=Bt*(de[2*pt+1]+Et)));if(St!==0){do{for(ot=yt-1;rt.bl_count[ot]===0;)ot--;rt.bl_count[ot]--,rt.bl_count[ot+1]+=2,rt.bl_count[yt]--,St-=2}while(0<St);for(ot=yt;ot!==0;ot--)for(pt=rt.bl_count[ot];pt!==0;)$t<(gt=rt.heap[--_t])||(mt[2*gt+1]!==ot&&(rt.opt_len+=(ot-mt[2*gt+1])*mt[2*gt],mt[2*gt+1]=ot),pt--)}}(h,x),ct(Z,it,h.bl_count)}function e(h,x,L){var M,O,Z=-1,X=x[1],$=0,Y=7,it=4;for(X===0&&(Y=138,it=3),x[2*(L+1)+1]=65535,M=0;M<=L;M++)O=X,X=x[2*(M+1)+1],++$<Y&&O===X||($<it?h.bl_tree[2*O]+=$:O!==0?(O!==Z&&h.bl_tree[2*O]++,h.bl_tree[2*A]++):$<=10?h.bl_tree[2*S]++:h.bl_tree[2*j]++,Z=O,it=($=0)===X?(Y=138,3):O===X?(Y=6,3):(Y=7,4))}function N(h,x,L){var M,O,Z=-1,X=x[1],$=0,Y=7,it=4;for(X===0&&(Y=138,it=3),M=0;M<=L;M++)if(O=X,X=x[2*(M+1)+1],!(++$<Y&&O===X)){if($<it)for(;q(h,O,h.bl_tree),--$!=0;);else O!==0?(O!==Z&&(q(h,O,h.bl_tree),$--),q(h,A,h.bl_tree),V(h,$-3,2)):$<=10?(q(h,S,h.bl_tree),V(h,$-3,3)):(q(h,j,h.bl_tree),V(h,$-11,7));Z=O,it=($=0)===X?(Y=138,3):O===X?(Y=6,3):(Y=7,4)}}c(F);var B=!1;function p(h,x,L,M){V(h,(g<<1)+(M?1:0),3),function(O,Z,X,$){nt(O),$&&(tt(O,X),tt(O,~X)),s.arraySet(O.pending_buf,O.window,Z,X,O.pending),O.pending+=X}(h,x,L,!0)}m._tr_init=function(h){B||(function(){var x,L,M,O,Z,X=new Array(i+1);for(O=M=0;O<v-1;O++)for(k[O]=M,x=0;x<1<<D[O];x++)t[M++]=O;for(t[M-1]=O,O=Z=0;O<16;O++)for(F[O]=Z,x=0;x<1<<W[O];x++)P[Z++]=O;for(Z>>=7;O<l;O++)for(F[O]=Z<<7,x=0;x<1<<W[O]-7;x++)P[256+Z++]=O;for(L=0;L<=i;L++)X[L]=0;for(x=0;x<=143;)K[2*x+1]=8,x++,X[8]++;for(;x<=255;)K[2*x+1]=9,x++,X[9]++;for(;x<=279;)K[2*x+1]=7,x++,X[7]++;for(;x<=287;)K[2*x+1]=8,x++,X[8]++;for(ct(K,y+1,X),x=0;x<l;x++)w[2*x+1]=5,w[2*x]=st(x,5);G=new Q(K,D,_+1,y,i),U=new Q(w,W,0,l,i),J=new Q(new Array(0),R,0,f,d)}(),B=!0),h.l_desc=new T(h.dyn_ltree,G),h.d_desc=new T(h.dyn_dtree,U),h.bl_desc=new T(h.bl_tree,J),h.bi_buf=0,h.bi_valid=0,et(h)},m._tr_stored_block=p,m._tr_flush_block=function(h,x,L,M){var O,Z,X=0;0<h.level?(h.strm.data_type===2&&(h.strm.data_type=function($){var Y,it=4093624447;for(Y=0;Y<=31;Y++,it>>>=1)if(1&it&&$.dyn_ltree[2*Y]!==0)return n;if($.dyn_ltree[18]!==0||$.dyn_ltree[20]!==0||$.dyn_ltree[26]!==0)return r;for(Y=32;Y<_;Y++)if($.dyn_ltree[2*Y]!==0)return r;return n}(h)),ht(h,h.l_desc),ht(h,h.d_desc),X=function($){var Y;for(e($,$.dyn_ltree,$.l_desc.max_code),e($,$.dyn_dtree,$.d_desc.max_code),ht($,$.bl_desc),Y=f-1;3<=Y&&$.bl_tree[2*H[Y]+1]===0;Y--);return $.opt_len+=3*(Y+1)+5+5+4,Y}(h),O=h.opt_len+3+7>>>3,(Z=h.static_len+3+7>>>3)<=O&&(O=Z)):O=Z=L+5,L+4<=O&&x!==-1?p(h,x,L,M):h.strategy===4||Z===O?(V(h,2+(M?1:0),3),dt(h,K,w)):(V(h,4+(M?1:0),3),function($,Y,it,rt){var ut;for(V($,Y-257,5),V($,it-1,5),V($,rt-4,4),ut=0;ut<rt;ut++)V($,$.bl_tree[2*H[ut]+1],3);N($,$.dyn_ltree,Y-1),N($,$.dyn_dtree,it-1)}(h,h.l_desc.max_code+1,h.d_desc.max_code+1,X+1),dt(h,h.dyn_ltree,h.dyn_dtree)),et(h),M&&nt(h)},m._tr_tally=function(h,x,L){return h.pending_buf[h.d_buf+2*h.last_lit]=x>>>8&255,h.pending_buf[h.d_buf+2*h.last_lit+1]=255&x,h.pending_buf[h.l_buf+h.last_lit]=255&L,h.last_lit++,x===0?h.dyn_ltree[2*L]++:(h.matches++,x--,h.dyn_ltree[2*(t[L]+_+1)]++,h.dyn_dtree[2*z(x)]++),h.last_lit===h.lit_bufsize-1},m._tr_align=function(h){V(h,2,3),q(h,b,K),function(x){x.bi_valid===16?(tt(x,x.bi_buf),x.bi_buf=0,x.bi_valid=0):8<=x.bi_valid&&(x.pending_buf[x.pending++]=255&x.bi_buf,x.bi_buf>>=8,x.bi_valid-=8)}(h)}},{"../utils/common":41}],53:[function(u,E,m){E.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],54:[function(u,E,m){(function(s){(function(n,r){if(!n.setImmediate){var c,g,v,_,y=1,l={},f=!1,a=n.document,i=Object.getPrototypeOf&&Object.getPrototypeOf(n);i=i&&i.setTimeout?i:n,c={}.toString.call(n.process)==="[object process]"?function(A){process.nextTick(function(){d(A)})}:function(){if(n.postMessage&&!n.importScripts){var A=!0,S=n.onmessage;return n.onmessage=function(){A=!1},n.postMessage("","*"),n.onmessage=S,A}}()?(_="setImmediate$"+Math.random()+"$",n.addEventListener?n.addEventListener("message",b,!1):n.attachEvent("onmessage",b),function(A){n.postMessage(_+A,"*")}):n.MessageChannel?((v=new MessageChannel).port1.onmessage=function(A){d(A.data)},function(A){v.port2.postMessage(A)}):a&&"onreadystatechange"in a.createElement("script")?(g=a.documentElement,function(A){var S=a.createElement("script");S.onreadystatechange=function(){d(A),S.onreadystatechange=null,g.removeChild(S),S=null},g.appendChild(S)}):function(A){setTimeout(d,0,A)},i.setImmediate=function(A){typeof A!="function"&&(A=new Function(""+A));for(var S=new Array(arguments.length-1),j=0;j<S.length;j++)S[j]=arguments[j+1];var D={callback:A,args:S};return l[y]=D,c(y),y++},i.clearImmediate=o}function o(A){delete l[A]}function d(A){if(f)setTimeout(d,0,A);else{var S=l[A];if(S){f=!0;try{(function(j){var D=j.callback,W=j.args;switch(W.length){case 0:D();break;case 1:D(W[0]);break;case 2:D(W[0],W[1]);break;case 3:D(W[0],W[1],W[2]);break;default:D.apply(r,W)}})(S)}finally{o(A),f=!1}}}}function b(A){A.source===n&&typeof A.data=="string"&&A.data.indexOf(_)===0&&d(+A.data.slice(_.length))}})(typeof self>"u"?s===void 0?this:s:self)}).call(this,typeof bt<"u"?bt:typeof self<"u"?self:typeof window<"u"?window:{})},{}]},{},[10])(10)})})(Xt);const zt=Xt.exports;var Pt={exports:{}};(function(C,I){var u=typeof self<"u"?self:bt,E=function(){function s(){this.fetch=!1,this.DOMException=u.DOMException}return s.prototype=u,new s}();(function(s){(function(n){var r={searchParams:"URLSearchParams"in s,iterable:"Symbol"in s&&"iterator"in Symbol,blob:"FileReader"in s&&"Blob"in s&&function(){try{return new Blob,!0}catch(t){return!1}}(),formData:"FormData"in s,arrayBuffer:"ArrayBuffer"in s};function c(t){return t&&DataView.prototype.isPrototypeOf(t)}if(r.arrayBuffer)var g=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],v=ArrayBuffer.isView||function(t){return t&&g.indexOf(Object.prototype.toString.call(t))>-1};function _(t){if(typeof t!="string"&&(t=String(t)),/[^a-z0-9\-#$%&'*+.^_`|~]/i.test(t))throw new TypeError("Invalid character in header field name");return t.toLowerCase()}function y(t){return typeof t!="string"&&(t=String(t)),t}function l(t){var k={next:function(){var G=t.shift();return{done:G===void 0,value:G}}};return r.iterable&&(k[Symbol.iterator]=function(){return k}),k}function f(t){this.map={},t instanceof f?t.forEach(function(k,G){this.append(G,k)},this):Array.isArray(t)?t.forEach(function(k){this.append(k[0],k[1])},this):t&&Object.getOwnPropertyNames(t).forEach(function(k){this.append(k,t[k])},this)}f.prototype.append=function(t,k){t=_(t),k=y(k);var G=this.map[t];this.map[t]=G?G+", "+k:k},f.prototype.delete=function(t){delete this.map[_(t)]},f.prototype.get=function(t){return t=_(t),this.has(t)?this.map[t]:null},f.prototype.has=function(t){return this.map.hasOwnProperty(_(t))},f.prototype.set=function(t,k){this.map[_(t)]=y(k)},f.prototype.forEach=function(t,k){for(var G in this.map)this.map.hasOwnProperty(G)&&t.call(k,this.map[G],G,this)},f.prototype.keys=function(){var t=[];return this.forEach(function(k,G){t.push(G)}),l(t)},f.prototype.values=function(){var t=[];return this.forEach(function(k){t.push(k)}),l(t)},f.prototype.entries=function(){var t=[];return this.forEach(function(k,G){t.push([G,k])}),l(t)},r.iterable&&(f.prototype[Symbol.iterator]=f.prototype.entries);function a(t){if(t.bodyUsed)return Promise.reject(new TypeError("Already read"));t.bodyUsed=!0}function i(t){return new Promise(function(k,G){t.onload=function(){k(t.result)},t.onerror=function(){G(t.error)}})}function o(t){var k=new FileReader,G=i(k);return k.readAsArrayBuffer(t),G}function d(t){var k=new FileReader,G=i(k);return k.readAsText(t),G}function b(t){for(var k=new Uint8Array(t),G=new Array(k.length),U=0;U<k.length;U++)G[U]=String.fromCharCode(k[U]);return G.join("")}function A(t){if(t.slice)return t.slice(0);var k=new Uint8Array(t.byteLength);return k.set(new Uint8Array(t)),k.buffer}function S(){return this.bodyUsed=!1,this._initBody=function(t){this._bodyInit=t,t?typeof t=="string"?this._bodyText=t:r.blob&&Blob.prototype.isPrototypeOf(t)?this._bodyBlob=t:r.formData&&FormData.prototype.isPrototypeOf(t)?this._bodyFormData=t:r.searchParams&&URLSearchParams.prototype.isPrototypeOf(t)?this._bodyText=t.toString():r.arrayBuffer&&r.blob&&c(t)?(this._bodyArrayBuffer=A(t.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):r.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(t)||v(t))?this._bodyArrayBuffer=A(t):this._bodyText=t=Object.prototype.toString.call(t):this._bodyText="",this.headers.get("content-type")||(typeof t=="string"?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):r.searchParams&&URLSearchParams.prototype.isPrototypeOf(t)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},r.blob&&(this.blob=function(){var t=a(this);if(t)return t;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?a(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(o)}),this.text=function(){var t=a(this);if(t)return t;if(this._bodyBlob)return d(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(b(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},r.formData&&(this.formData=function(){return this.text().then(R)}),this.json=function(){return this.text().then(JSON.parse)},this}var j=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function D(t){var k=t.toUpperCase();return j.indexOf(k)>-1?k:t}function W(t,k){k=k||{};var G=k.body;if(t instanceof W){if(t.bodyUsed)throw new TypeError("Already read");this.url=t.url,this.credentials=t.credentials,k.headers||(this.headers=new f(t.headers)),this.method=t.method,this.mode=t.mode,this.signal=t.signal,!G&&t._bodyInit!=null&&(G=t._bodyInit,t.bodyUsed=!0)}else this.url=String(t);if(this.credentials=k.credentials||this.credentials||"same-origin",(k.headers||!this.headers)&&(this.headers=new f(k.headers)),this.method=D(k.method||this.method||"GET"),this.mode=k.mode||this.mode||null,this.signal=k.signal||this.signal,this.referrer=null,(this.method==="GET"||this.method==="HEAD")&&G)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(G)}W.prototype.clone=function(){return new W(this,{body:this._bodyInit})};function R(t){var k=new FormData;return t.trim().split("&").forEach(function(G){if(G){var U=G.split("="),J=U.shift().replace(/\+/g," "),F=U.join("=").replace(/\+/g," ");k.append(decodeURIComponent(J),decodeURIComponent(F))}}),k}function H(t){var k=new f,G=t.replace(/\r?\n[\t ]+/g," ");return G.split(/\r?\n/).forEach(function(U){var J=U.split(":"),F=J.shift().trim();if(F){var Q=J.join(":").trim();k.append(F,Q)}}),k}S.call(W.prototype);function K(t,k){k||(k={}),this.type="default",this.status=k.status===void 0?200:k.status,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in k?k.statusText:"OK",this.headers=new f(k.headers),this.url=k.url||"",this._initBody(t)}S.call(K.prototype),K.prototype.clone=function(){return new K(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new f(this.headers),url:this.url})},K.error=function(){var t=new K(null,{status:0,statusText:""});return t.type="error",t};var w=[301,302,303,307,308];K.redirect=function(t,k){if(w.indexOf(k)===-1)throw new RangeError("Invalid status code");return new K(null,{status:k,headers:{location:t}})},n.DOMException=s.DOMException;try{new n.DOMException}catch(t){n.DOMException=function(k,G){this.message=k,this.name=G;var U=Error(k);this.stack=U.stack},n.DOMException.prototype=Object.create(Error.prototype),n.DOMException.prototype.constructor=n.DOMException}function P(t,k){return new Promise(function(G,U){var J=new W(t,k);if(J.signal&&J.signal.aborted)return U(new n.DOMException("Aborted","AbortError"));var F=new XMLHttpRequest;function Q(){F.abort()}F.onload=function(){var T={status:F.status,statusText:F.statusText,headers:H(F.getAllResponseHeaders()||"")};T.url="responseURL"in F?F.responseURL:T.headers.get("X-Request-URL");var z="response"in F?F.response:F.responseText;G(new K(z,T))},F.onerror=function(){U(new TypeError("Network request failed"))},F.ontimeout=function(){U(new TypeError("Network request failed"))},F.onabort=function(){U(new n.DOMException("Aborted","AbortError"))},F.open(J.method,J.url,!0),J.credentials==="include"?F.withCredentials=!0:J.credentials==="omit"&&(F.withCredentials=!1),"responseType"in F&&r.blob&&(F.responseType="blob"),J.headers.forEach(function(T,z){F.setRequestHeader(z,T)}),J.signal&&(J.signal.addEventListener("abort",Q),F.onreadystatechange=function(){F.readyState===4&&J.signal.removeEventListener("abort",Q)}),F.send(typeof J._bodyInit>"u"?null:J._bodyInit)})}return P.polyfill=!0,s.fetch||(s.fetch=P,s.Headers=f,s.Request=W,s.Response=K),n.Headers=f,n.Request=W,n.Response=K,n.fetch=P,Object.defineProperty(n,"__esModule",{value:!0}),n})({})})(E),E.fetch.ponyfill=!0,delete E.fetch.polyfill;var m=E;I=m.fetch,I.default=m.fetch,I.fetch=m.fetch,I.Headers=m.Headers,I.Request=m.Request,I.Response=m.Response,C.exports=I})(Pt,Pt.exports);const Wt=_e(Pt.exports),ge=C=>{let I=0;const u=()=>{let i=0,o=0;for(let d=0;d<I;d++)C[d]===`
`?(i++,o=0):o++;return{line:i+1,column:o+1}},E=i=>{const{line:o,column:d}=u();throw new SyntaxError(`${i} (Line ${o} Column ${d})`)},m=i=>(i>=C.length&&E("Unexpected end of input"),C[i]),s=()=>m(I),n=()=>{I++},r=i=>{s()!==i&&E(`Expected '${i}' but found '${s()}'`),n()},c=(i=1,o=1)=>{if(I+o+i>C.length)return"";if(i===1)return m(I+o);let d="";for(let b=0;b<i;b++)d+=m(I+o+b);return d},g=()=>{for(;;)if(/\s/.test(s()))n();else{const i=c(2,0);if(i==="//")for(n(),n();s()!==`
`;)n();else if(i==="/*"){for(n(),n();c(2,0)!=="*/";)n();n(),n()}else break}},v=()=>{switch(g(),s()){case'"':return l();case"{":return a();case"[":return f();case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":case"-":return y();default:return _()}},_=()=>{if(c(4,0)==="null"){for(let i=0;i<4;i++)n();return null}if(c(4,0)==="true"){for(let i=0;i<4;i++)n();return!0}if(c(5,0)==="false"){for(let i=0;i<5;i++)n();return!1}if(c(8,0)==="Infinity"){for(let i=0;i<8;i++)n();return 1/0}if(c(3,0)==="NaN"){for(let i=0;i<3;i++)n();return NaN}E(`Unexpected character '${s()}'`)},y=()=>{if(c(9,0)==="-Infinity"){for(let d=0;d<9;d++)n();return-1/0}let i="";for(;i+=s(),/[\d.e+-]/i.test(c());)n();n();const o=+i;return Number.isNaN(o)&&E(`Not a number: ${i}`),o},l=()=>{r('"');let i="";for(;;){const o=s();if(o==='"')break;if(o==="\\")switch(n(),s()){case'"':i+='"';break;case"/":i+="/";break;case"\\":i+="\\";break;case"b":i+="\b";break;case"f":i+="\f";break;case"n":i+=`
`;break;case"r":i+="\r";break;case"t":i+="	";break;case"u":{let d="";for(let S=0;S<4;S++){n();const j=s();/[0-9a-f]/i.test(j)||E(`Invalid hex code: ${j}`),d+=j}const b=Number.parseInt(d,16),A=String.fromCharCode(b);i+=A;break}default:E(`Invalid escape code: \\${s()}`)}else i+=o;n()}return r('"'),i},f=()=>{r("["),g();const i=[];for(;g(),s()!=="]";){const o=v();if(i.push(o),g(),s()===",")n();else break}return r("]"),i},a=()=>{r("{"),g();const i={};for(;g(),s()!=="}";){const o=l();g(),r(":");const d=v();if(i[o]=d,g(),s()===",")n();else break}return r("}"),i};return v()},Kt=C=>{try{return JSON.parse(C)}catch(I){try{return ge(C)}catch(u){throw I}}},Ct=C=>{if(typeof C=="string")return JSON.stringify(C);if(typeof C=="number"||typeof C=="boolean")return C.toString();if(C===null||typeof C>"u"||typeof C=="symbol")return"null";if(Array.isArray(C))return`[${C.map(I=>Ct(I)).join(",")}]`;if(typeof C=="object"){let I="{",u=!0;const E=Object.keys(C);for(let m=0;m<E.length;m++){const s=E[m],n=C[s];typeof n<"u"&&(u||(I+=","),I+=`${JSON.stringify(s)}:${Ct(n)}`,u=!1)}return I+="}",I}throw typeof C=="bigint"?new TypeError("Can not stringify bigint"):new TypeError(`Can not stringify: ${C}`)},ye=C=>C.replace(/\?token=[^&#]+/,"?token=x");class kt extends Error{constructor(I,u){super(`Unexpected status ${u} while fetching ${ye(I)}`),this.name="HTTPError",this.url=I,this.status=u}}class Dt extends Error{constructor(I){super(I),this.name="CanNotAccessProjectError"}}class Jt extends Error{constructor(I){super(I||"The operation was aborted."),this.name="AbortError"}}let Ft=0;const Nt=[],be=3,we=100,ve=5e3,Rt=()=>{Ft--,Yt()},ke=([C,I,u])=>{let E,m=0;const s=()=>Wt(I,u).then(n=>{if(n.ok)return n.arrayBuffer();throw new kt(I,n.status)}).then(n=>(Rt(),n)).catch(n=>{if(n&&n.name==="AbortError")throw Rt(),n;if(console.warn(`Attempt to fetch ${I} failed`,n),E||(E=n),m<be)return m++,new Promise(r=>setTimeout(r,(m+Math.random()-1)*ve)).then(s);throw Rt(),new Error(`Failed to fetch ${I}: ${E}`)});return C(s())},xe=()=>{for(;;){if(Nt.length===0)return null;const C=Nt.shift(),I=C[2];if(!(I&&I.signal&&I.signal.aborted))return C}},Yt=()=>{if(Ft<we){const C=xe();C&&(Ft++,ke(C))}},Qt=(C,I)=>new Promise(u=>{Nt.push([u,C,I]),Yt()}),Ee=async(C,I,u)=>{if(I(0),typeof XMLHttpRequest=="function")return new Promise((n,r)=>{const c=new XMLHttpRequest;c.onload=()=>{c.status===200?(I(1),n(c.response)):r(new kt(C,c.status))},c.onerror=()=>{r(new Error(`Failed to fetch ${C}: xhr error`))},c.onabort=()=>{r(new Jt(`Failed to fetch ${C}: aborted`))},c.onprogress=g=>{g.lengthComputable&&I(g.loaded/g.total)},u&&u.addEventListener("abort",()=>{c.abort()}),c.responseType="arraybuffer",c.open("GET",C),c.send()});const E=await Wt(C);if(E.status!==200)throw new kt(C,E.status);const m=+E.headers.get("content-length");if(m){let n=0;E.body.on("data",r=>{typeof E.body.bytesWritten=="number"?I(E.body.bytesWritten/m):(n+=r.length,I(n/m))})}const s=await E.arrayBuffer();return I(1),s},xt=C=>Object.assign({assetHost:"https://assets.scratch.mit.edu/internalapi/asset/$id/get/"},C||{}),ft=C=>{if(C.signal&&C.signal.aborted)throw new Jt},te=async(C,I,u)=>{if(u.processJSON){const E=await u.processJSON(C,I);E&&(I=E),ft(u)}return Ct(I)},Se=C=>C&&C.name==="AbortError",Ot=C=>{const I=[];for(const u of C)if(Array.isArray(u))for(const E of u)I.push(E);else I.push(u);return I},Ae=C=>{const I="ScratchV";for(let u=0;u<I.length;u++)if(C[u]!==I.charCodeAt(u))return!1;return!0},Ce=C=>C[0]==="{".charCodeAt(0),Oe=async(C,I,u)=>{const E=["svg","png","jpg","gif","bmp"],m=["wav","mp3"],s=new zt;let n=0,r=0;const c=i=>i.split(".")[1]||"",g=i=>{const o=c(i);return E.includes(o)?r++:m.includes(o)?n++:(console.warn("unknown extension: "+o),r++)},v=async(i,o)=>{u.fetching(i);const d=await Qt(I.assetHost.replace("$id",i)),b=`${o}.${c(i)}`;return u.fetched(i),{path:b,data:d}},_=i=>{const o=new Map,d=b=>(o.has(b)||o.set(b,g(b)),o.get(b));for(const b of i)b.md5&&(b.soundID=d(b.md5)),b.baseLayerMD5&&(b.baseLayerID=d(b.baseLayerMD5)),b.textLayerMD5&&(b.textLayerID=d(b.textLayerMD5));return Promise.all(Array.from(o.entries()).map(([b,A])=>v(b,A)))},y=[C,...C.children.filter(i=>!i.listName&&!i.target)],l=Ot(y.map(i=>i.costumes||[])),f=Ot(y.map(i=>i.sounds||[])),a=await _([...l,...f]);s.file("project.json",await te("sb2",C,I));for(const{path:i,data:o}of a)s.file(i,o);return s},ze=async(C,I,u)=>{const E=new zt,m=_=>{const y=[],l=new Set;for(const f of _){f.md5ext||(f.md5ext=`${f.assetId}.${f.dataFormat}`);const a=f.md5ext;l.has(a)||(l.add(a),y.push(f))}return y},s=async _=>{const y=_.md5ext;u.fetching(y);const l=await Qt(I.assetHost.replace("$id",y),{signal:I.signal});return u.fetched(y),{path:y,data:l}},n=C.targets,r=Ot(n.map(_=>_.costumes||[])),c=Ot(n.map(_=>_.sounds||[])),g=m([...r,...c]),v=await Promise.all(g.map(s));E.file("project.json",await te("sb3",C,I));for(const{path:_,data:y}of v)E.file(_,y);return E},ee=C=>Object.prototype.hasOwnProperty.call(C,"targets")?"sb3":Object.prototype.hasOwnProperty.call(C,"objName")?"sb2":null,re=(C,I)=>{const u=I.date||new Date("Fri, 31 Dec 2021 00:00:00 GMT");for(const E of Object.values(C.files))E.date=u;return C.generateAsync({type:"arraybuffer",compression:I.compress!==!1?"DEFLATE":"STORE"},E=>{I.onProgress&&I.onProgress("compress",E.percent/100,1)})},Ie=async(C,I)=>{I=xt(I),typeof C=="string"&&(C=Kt(C));let u=!1,E=null,m=0,s=0;const n=()=>{E||(E=setTimeout(()=>{ft(I),E=null,!u&&I.onProgress&&I.onProgress("assets",m,s)}))},r={fetching:()=>{ft(I),s++,n()},fetched:()=>{ft(I),m++,n()}},c=ee(C);let g;if(c==="sb3")g=await ze(C,I,r);else if(c==="sb2")g=await Oe(C,I,r);else throw new Error(`Unknown project type: ${c}`);ft(I),I.onProgress&&I.onProgress("assets",s,s),u=!0;const v=await re(g,I);return ft(I),{title:"",type:c,arrayBuffer:v}},Te=async(C,I)=>{I=xt(I),ft(I),ArrayBuffer.isView(C)&&(C=C.buffer.slice(C.byteOffset,C.byteOffset+C.byteLength));const u=new Uint8Array(C);if(Ce(u)){const g=new TextDecoder().decode(C);return Ie(g,I)}if(Ae(u))return{title:"",type:"sb",arrayBuffer:C};let E;try{E=await zt.loadAsync(C)}catch(g){throw new Error("Cannot parse project: not a zip or sb")}ft(I);const m=E.file(/^([^/]*\/)?project\.json$/)[0];if(!m)throw new Error("project.json is missing");const s=await m.async("text"),n=Kt(s),r=ee(n);ft(I);let c=!!I.date;if(I.processJSON){const g=await I.processJSON(r,n);g&&(c=!0,E.file(m.name,Ct(g)))}return c&&(C=await re(E,I),ft(I)),{title:"",type:r,arrayBuffer:C}},Be=async(C,I)=>{I=xt(I);const u=[`https://trampoline.turbowarp.org/api/projects/${C}`,`https://trampoline.turbowarp.xyz/api/projects/${C}`];let E=null;for(const m of u)try{const s=await Wt(m,{signal:I.signal});if(s.status===404)throw new Dt(`${C} is unshared or does not exist`);if(!s.ok)throw new kt(m,s.status);return await s.json()}catch(s){if(s instanceof Dt||Se(s))throw s;E=s}throw E},Re=C=>{const I=C.match(/\/([^\/]+)\.sb[2|3]?$/);return I?I[1]:""},Pe=async(C,I)=>{I=xt(I);let u;try{u=await Ee(C,m=>{I.onProgress&&I.onProgress("project",m,1)},I.signal)}catch(m){throw m instanceof kt&&m.status===404?new Dt(m.message):m}const E=await Te(u,I);return E.title=Re(C),E},ne=async(C,I,u)=>{u=xt(u),u.onProgress&&u.onProgress("metadata",0,1);const E=await Be(C,u);u.onProgress&&u.onProgress("metadata",1,1),ft(u);const m=E.project_token,s=E.title,n=m?`?token=${m}`:"",r=I+n,c=await Pe(r,u);return s&&(c.title=s),c},De=(C,I)=>ne(C,`https://projects.scratch.mit.edu/${C}`,I),Fe=(C,I)=>ne(C,`https://projects.scratch.mit.edu/internalapi/project/${C}/get`,I),Zt=C=>{const I=C.match(/\d+/);return I?I[0]:null},ie=C=>{const I=C.toString();I?history.replaceState("","",`?${I}`):history.replaceState("","",location.pathname)},It=document.querySelector(".project-input"),Ne=document.querySelector(".download-latest-button"),je=document.querySelector(".download-legacy-button"),jt=document.querySelector(".progress-outer"),Ue=document.querySelector(".progress-fill"),qt=document.querySelector(".progress-text"),Ut=document.querySelector(".downloads-outer"),se=document.querySelector(".asset-viewer-placeholder"),ae=document.querySelector(".asset-viewer-option-outer"),oe=document.querySelector(".asset-viewer-option"),le=document.querySelector(".asset-viewer-not-supported"),Lt=document.querySelector(".asset-viewer-outer"),Vt="https://scratch.mit.edu/projects/",ce="working",Le="done",Me="error",We=["sb2","sb3"];It.addEventListener("input",C=>{he(),$e(),ue(),fe(),ie(new URLSearchParams);const I=Zt(C.target.value);C.target.value=I?`${Vt}${I}`:Vt});It.addEventListener("focus",C=>{Zt(C.target.value)&&C.target.select()});It.addEventListener("keydown",C=>{C.key==="Enter"&&(C.target.blur(),Tt(!1))});Ne.addEventListener("click",()=>{Tt(!1)});je.addEventListener("click",()=>{Tt(!0)});const Ze=async C=>{const I=["json"],u=["png","jpg","jpeg","gif","svg","bmp","webp"],E=["mp3","wav","ogg"];Ht(),Lt.hidden=!1;const m=document.createElement("tbody");m.className="asset-viewer-inner",Lt.appendChild(m);const s=await zt.loadAsync(C.arrayBuffer);for(const n of Object.keys(s.files)){const r=document.createElement("tr");r.className="asset-viewer-row";const c=document.createElement("td");c.textContent=n,c.className="asset-viewer-id";const g=document.createElement("td");g.className="asset-viewer-content",r.appendChild(c),r.appendChild(g);const v=n.split(".").pop();if(I.includes(v)){const _=await s.file(n).async("text"),y=document.createElement("textarea");y.value=_,y.readOnly=!0,g.appendChild(y)}else if(u.includes(v)){const _=await s.file(n).async("base64"),y=v==="svg"?"image/svg+xml":`image/${v}`,l=document.createElement("img");l.src=`data:${y};base64,${_}`,g.appendChild(l)}else if(E.includes(v)){const _=await s.file(n).async("base64"),y=document.createElement("audio");y.src=`data:;base64,${_}`,y.controls=!0,y.autoplay=!1,g.appendChild(y)}else{const _=document.createElement("div");_.textContent=`Unknown extension: ${v}`}m.appendChild(r)}},Ht=()=>{const C=document.querySelector(".asset-viewer-inner");C&&C.remove(),Lt.hidden=!0},ue=()=>{oe.checked=!1,se.hidden=!1,ae.hidden=!0,le.hidden=!0,Ht()};oe.addEventListener("change",C=>{C.target.checked?Ze(Mt):Ht()});const he=()=>{for(;Ut.firstChild;){const C=Ut.firstChild;C.href&&URL.revokeObjectURL(C.href),C.remove()}},wt=(C,I,u)=>{jt.hidden=!1,Ue.style.width=`${10+u*90}%`,jt.dataset.state=I,qt.textContent!==C&&(qt.textContent=C)},He=()=>{wt("\u23F3 Downloading project metadata...",ce,0)},$e=()=>{jt.hidden=!0};let Mt=null,vt=null;const fe=()=>{vt&&(vt.abort(),vt=null)},Tt=async C=>{const I=Zt(It.value);if(!I){alert("Paste a project ID or URL into the input above first.");return}try{fe();const u=new AbortController;vt=u;const E=new URLSearchParams;E.set("id",I),C?E.set("legacy","true"):E.delete("legacy"),ie(E),Mt=null,ue(),he(),He();const s={onProgress:(i,o,d)=>{let b=i;i==="metadata"?b="\u23F3 Downloading project metadata...":i==="project"?b="\u23F3 Downloading project data...":i==="assets"?(b=`\u23F3 Downloading assets (${o}/${d})...`,wt()):i==="compress"?b="\u23F3 Compressing project...":console.warn(`Unknown progress type: ${i}`),wt(b,ce,o/d)},signal:u.signal},r=await(C?Fe:De)(I,s);Mt=r;const c=r.title?`${r.title} (${I})`:I,g=r.type,v=`${c}.${g}`,_=new Blob([r.arrayBuffer],{type:`application/x.scratch.${g}`}),y=(_.size/1024/1024).toFixed(2),l=URL.createObjectURL(_),f=document.createElement("a");f.textContent=`Download ${v} (${y}MB)`,f.download=v,f.href=l,Ut.appendChild(f),f.click();const a=We.includes(g);se.hidden=!0,ae.hidden=!a,le.hidden=a,wt("\u2705 Done",Le,1),vt=null}catch(u){if(console.error(u),u&&u.name==="AbortError")return;let E="\u274C ";u&&u.name==="CanNotAccessProjectError"?C?E+="The project does not exist, the ID is invalid, your network blocks scratch.mit.edu, or the project was made after January 2, 2019 so no legacy version is available.":E+="The project does not exist, the ID is invalid, or your network blocks scratch.mit.edu.":E+=u,wt(E,Me,1)}};if(window.InitialState){const C=window.InitialState.isLegacy;Tt(C)}export{Ge as __vite_legacy_guard};
